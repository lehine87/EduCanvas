# T-V2-012: ê°•ì‚¬ ê´€ë¦¬ ì‹œìŠ¤í…œ v2 ì™„ì„±

**íƒœìŠ¤í¬ ID**: T-V2-012  
**ìƒíƒœ**: COMPLETED âœ…  
**ìš°ì„ ìˆœìœ„**: P0 (í•µì‹¬ í•„ìˆ˜)  
**ì˜ˆìƒ ì†Œìš” ì‹œê°„**: 2.0d  
**ì‹¤ì œ ì†Œìš” ì‹œê°„**: 1.8d  
**ê¸°í•œ**: 2025-09-15  
**ì™„ë£Œì¼**: 2025-09-11 âš¡ **4ì¼ ì•ë‹¹ê¹€**  
**ìŠ¤í”„ë¦°íŠ¸**: S-V2-03  
**ë‹´ë‹¹**: Full Stack  
**ì§„í–‰ë¥ **: 100% (16/16ì‹œê°„ ì™„ë£Œ) âœ…  
**ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸**: 2025-09-11

---

## ğŸ“‹ ê°œìš”

tenant_memberships ê¸°ë°˜ í†µí•© ì§ì› ê´€ë¦¬ ì‹œìŠ¤í…œì˜ ì¼ë¶€ë¡œ, ê°•ì‚¬ íŠ¹í™” ê¸°ëŠ¥ì„ í¬í•¨í•œ ì™„ì „í•œ ê°•ì‚¬ ê´€ë¦¬ ì‹œìŠ¤í…œì„ êµ¬í˜„í•©ë‹ˆë‹¤. í•™ìƒ ê´€ë¦¬ ì‹œìŠ¤í…œ(T-V2-009)ì˜ ì„±ê³µì ì¸ UI/UX íŒ¨í„´ì„ ê·¸ëŒ€ë¡œ í™œìš©í•˜ì—¬ ì¼ê´€ëœ ì‚¬ìš©ì ê²½í—˜ì„ ì œê³µí•©ë‹ˆë‹¤.

### ğŸ¯ í•µì‹¬ ëª©í‘œ

1. **í†µí•© ì§ì› ê´€ë¦¬**: tenant_memberships í…Œì´ë¸” ê¸°ë°˜ ê°•ì‚¬/ì§ì› í†µí•© ê´€ë¦¬
2. **ë³´ì•ˆ ìµœìš°ì„ **: ë¯¼ê°í•œ ì§ì› ì •ë³´ì˜ ì² ì €í•œ ê¶Œí•œ ë¶„ë¦¬ (RLS + API + Frontend)
3. **UI ì¬í™œìš©**: í•™ìƒ ê´€ë¦¬ ì‹œìŠ¤í…œì˜ ê²€ì¦ëœ UI/UX íŒ¨í„´ ê·¸ëŒ€ë¡œ ì ìš©
4. **ê¸‰ì—¬ ì—°ë™**: 7ê°€ì§€ ê¸‰ì—¬ ì •ì±… ì§€ì› ë° ìë™ ê³„ì‚°
5. **ì‹¤ì‹œê°„ í˜„í™©**: ê°•ì‚¬ë³„ ìˆ˜ì—… í˜„í™© ë° ê·¼íƒœ ê´€ë¦¬

---

## ğŸ—ï¸ ì•„í‚¤í…ì²˜ ì„¤ê³„

### ë°ì´í„°ë² ì´ìŠ¤ êµ¬ì¡°

```sql
-- ê¸°ì¡´ tenant_memberships í…Œì´ë¸” í™œìš©
tenant_memberships {
  id: UUID (PK)
  tenant_id: UUID (FK â†’ tenants)
  user_id: UUID (FK â†’ user_profiles)
  role: TEXT (admin, instructor, staff, viewer)
  staff_info: JSONB {
    -- ê¸°ë³¸ ì •ë³´
    employee_id: STRING (ì§ì›ë²ˆí˜¸)
    employment_type: STRING (ì •ê·œì§/ê³„ì•½ì§/íŒŒíŠ¸íƒ€ì„)
    department: STRING (ë¶€ì„œ)
    position: STRING (ì§ìœ„)
    
    -- ì—°ë½ì²˜ ì •ë³´
    emergency_contact: {
      name: STRING
      relationship: STRING
      phone: STRING
    }
    
    -- ê°•ì‚¬ ì „ìš© ì •ë³´
    instructor_info: {
      subjects: STRING[] (ë‹´ë‹¹ ê³¼ëª©)
      certifications: STRING[] (ìê²©ì¦)
      specialties: STRING[] (ì „ë¬¸ ë¶„ì•¼)
      teaching_level: STRING (ì´ˆê¸‰/ì¤‘ê¸‰/ê³ ê¸‰)
      max_classes_per_week: NUMBER
    }
    
    -- ê¸‰ì—¬ ì •ë³´ (ê¶Œí•œ ì œí•œ)
    salary_info: {
      type: STRING (ì›”ê¸‰ì œ/ì‹œê¸‰ì œ/ê±´ë³„)
      base_amount: NUMBER
      allowances: OBJECT[]
      deductions: OBJECT[]
      payment_day: NUMBER
      bank_info: OBJECT (ì•”í˜¸í™”)
    }
  }
  created_at: TIMESTAMP
  updated_at: TIMESTAMP
}

-- ê·¼íƒœ ê´€ë¦¬ í…Œì´ë¸”
attendance_records {
  id: UUID (PK)
  tenant_id: UUID (FK)
  membership_id: UUID (FK â†’ tenant_memberships)
  date: DATE
  check_in: TIME
  check_out: TIME
  status: STRING (ì •ìƒ/ì§€ê°/ì¡°í‡´/ê²°ê·¼/íœ´ê°€)
  notes: TEXT
  created_at: TIMESTAMP
}

-- ì§ì› í‰ê°€ í…Œì´ë¸” (í…Œë„ŒíŠ¸ ê´€ë¦¬ì ì „ìš©)
staff_evaluations {
  id: UUID (PK)
  tenant_id: UUID (FK)
  membership_id: UUID (FK â†’ tenant_memberships)
  evaluator_id: UUID (FK â†’ tenant_memberships)
  evaluation_date: DATE
  content: TEXT (ì•”í˜¸í™”)
  rating: NUMBER
  visibility: STRING (admin_only/managers)
  created_at: TIMESTAMP
}
```

### API ì—”ë“œí¬ì¸íŠ¸ ì„¤ê³„

```typescript
// ê°•ì‚¬ ê´€ë¦¬ API
/api/instructors
  GET    / - ê°•ì‚¬ ëª©ë¡ ì¡°íšŒ (í˜ì´ì§€ë„¤ì´ì…˜, í•„í„°ë§, ê²€ìƒ‰)
  GET    /dashboard-stats - ëŒ€ì‹œë³´ë“œ í†µê³„ (ì „ì²´ í˜„í™©)
  GET    /search - ê²€ìƒ‰ API
  GET    /:id - ê°•ì‚¬ ìƒì„¸ ì¡°íšŒ
  POST   / - ê°•ì‚¬ ë“±ë¡
  PATCH  /:id - ê°•ì‚¬ ì •ë³´ ìˆ˜ì •
  DELETE /:id - ê°•ì‚¬ ì‚­ì œ

// ê·¼íƒœ ê´€ë¦¬ API  
/api/attendance
  GET    / - ê·¼íƒœ ê¸°ë¡ ì¡°íšŒ
  POST   /check-in - ì¶œê·¼ ì²´í¬
  POST   /check-out - í‡´ê·¼ ì²´í¬
  PATCH  /:id - ê·¼íƒœ ìˆ˜ì • (ê´€ë¦¬ì ì „ìš©)

// í‰ê°€ ê´€ë¦¬ API (ê´€ë¦¬ì ì „ìš©)
/api/evaluations
  GET    /:staffId - ì§ì› í‰ê°€ ì¡°íšŒ
  POST   / - í‰ê°€ ì‘ì„±
  PATCH  /:id - í‰ê°€ ìˆ˜ì •
  DELETE /:id - í‰ê°€ ì‚­ì œ

// ê¸‰ì—¬ ê´€ë¦¬ API (ê¶Œí•œ ì œí•œ)
/api/salary
  GET    /:staffId - ê¸‰ì—¬ ì •ë³´ ì¡°íšŒ
  POST   /calculate - ê¸‰ì—¬ ê³„ì‚°
  PATCH  /:staffId - ê¸‰ì—¬ ì •ë³´ ìˆ˜ì •
```

---

## ğŸ’¼ ê¸°ëŠ¥ ëª…ì„¸

### 1. ê°•ì‚¬ ëª©ë¡ ê´€ë¦¬

#### ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­
- ì „ì²´ ê°•ì‚¬ ëª©ë¡ í‘œì‹œ (DataTable ì»´í¬ë„ŒíŠ¸ í™œìš©)
- ì‹¤ì‹œê°„ ê²€ìƒ‰ (ì´ë¦„, ì§ì›ë²ˆí˜¸, ë‹´ë‹¹ ê³¼ëª©)
- ë‹¤ì¤‘ í•„í„°ë§ (ì¬ì§ìƒíƒœ, ê³ ìš©í˜•íƒœ, ë¶€ì„œ, ê¶Œí•œ)
- ì •ë ¬ ê¸°ëŠ¥ (ì´ë¦„, ì…ì‚¬ì¼, ë‹´ë‹¹ ìˆ˜ì—… ìˆ˜)
- í˜ì´ì§€ë„¤ì´ì…˜ (10/20/50/100ê°œ ë‹¨ìœ„)

#### UI ì»´í¬ë„ŒíŠ¸ (í•™ìƒ ê´€ë¦¬ UI ì¬í™œìš©)
```typescript
// ê¸°ì¡´ í•™ìƒ ê´€ë¦¬ ì»´í¬ë„ŒíŠ¸ë¥¼ ê°•ì‚¬ ê´€ë¦¬ìš©ìœ¼ë¡œ í™œìš©
- InstructorOverviewDashboard (â† StudentOverviewDashboard)
- InstructorSearchSidebar (â† StudentSearchSidebar)  
- InstructorStatsGrid (â† StudentStatsGrid)
- InstructorDetailSideSheet (â† StudentDetailSideSheet)
- CreateInstructorSheet (â† CreateStudentSheet)
```

### 2. ê°•ì‚¬ ìƒì„¸ ì •ë³´

#### íƒ­ êµ¬ì„±
1. **ê¸°ë³¸ ì •ë³´**: ê°œì¸ì •ë³´, ì—°ë½ì²˜, ë¹„ìƒì—°ë½ë§
2. **ê·¼ë¬´ ì •ë³´**: ê³ ìš©í˜•íƒœ, ë¶€ì„œ, ì§ìœ„, ì…ì‚¬ì¼
3. **ìˆ˜ì—… ê´€ë¦¬**: í˜„ì¬ ë‹´ë‹¹ ìˆ˜ì—…, ì‹œê°„í‘œ, ìˆ˜ê°•ìƒ ìˆ˜
4. **ê·¼íƒœ ê¸°ë¡**: ì¶œí‡´ê·¼ ê¸°ë¡, íœ´ê°€ ì‚¬ìš© í˜„í™©
5. **ê¸‰ì—¬ ì •ë³´**: ê¸‰ì—¬ ì²´ê³„, ì§€ê¸‰ ë‚´ì—­ (ê¶Œí•œ ì œí•œ)
6. **í‰ê°€ ê¸°ë¡**: í‰ê°€ ì´ë ¥ (ê´€ë¦¬ì ì „ìš©)

### 3. ê¶Œí•œë³„ ì ‘ê·¼ ì œì–´

```typescript
// ê¶Œí•œ ë ˆë²¨ ì •ì˜
enum AccessLevel {
  ADMIN = 'admin',           // ëª¨ë“  ì •ë³´ ì ‘ê·¼ ê°€ëŠ¥
  MANAGER = 'manager',       // í‰ê°€ ì œì™¸ ëª¨ë“  ì •ë³´
  INSTRUCTOR = 'instructor', // ë³¸ì¸ ì •ë³´ë§Œ
  STAFF = 'staff',          // ê¸°ë³¸ ì •ë³´ë§Œ
  VIEWER = 'viewer'         // ì½ê¸° ì „ìš©
}

// ë¯¼ê° ì •ë³´ ì ‘ê·¼ ì œì–´
interface SensitiveDataAccess {
  salary: ['admin', 'manager'];
  evaluation: ['admin'];
  bankInfo: ['admin'];
  personalNotes: ['admin'];
}
```

### 4. ê¸‰ì—¬ ê´€ë¦¬ ì‹œìŠ¤í…œ

#### ê¸‰ì—¬ ì²´ê³„ (7ê°€ì§€) - database_design.md ê¸°ë°˜

##### 4.1 ê³ ì • ì›”ê¸‰ì œ (fixed_monthly)
- **ì„¤ëª…**: ê³ ì •ëœ ì›” ê¸‰ì—¬
- **ê³„ì‚°**: `base_amount` ê·¸ëŒ€ë¡œ ì§€ê¸‰
- **ì˜ˆì‹œ**: ì‹ ì… ê°•ì‚¬ ê¸°ë³¸ê¸‰ 250ë§Œì›

##### 4.2 ì‹œê¸‰ì œ (fixed_hourly)  
- **ì„¤ëª…**: ì‹¤ì œ ê·¼ë¬´ ì‹œê°„ Ã— ì‹œê¸‰
- **ê³„ì‚°**: `total_hours Ã— hourly_rate`
- **ì˜ˆì‹œ**: ì‹œê°„ê°•ì‚¬ ì‹œê¸‰ 35,000ì›

##### 4.3 ë‹¨ìˆœ ë¹„ìœ¨ì œ (commission)
- **ì„¤ëª…**: ë§¤ì¶œì•¡ ë˜ëŠ” í•™ìƒìˆ˜ì˜ ì¼ì • ë¹„ìœ¨
- **ê³„ì‚° ê¸°ì¤€**: 
  - `revenue`: ë§¤ì¶œì•¡ ê¸°ì¤€
  - `students`: í•™ìƒìˆ˜ ê¸°ì¤€  
  - `hours`: ìˆ˜ì—… ì‹œê°„ ê¸°ì¤€
- **ê³„ì‚°**: `total_amount Ã— commission_rate / 100`
- **ì˜ˆì‹œ**: ë§¤ì¶œì˜ 15% ì§€ê¸‰

##### 4.4 ëˆ„ì§„ ë¹„ìœ¨ì œ (tiered_commission)
- **ì„¤ëª…**: êµ¬ê°„ë³„ë¡œ ë‹¤ë¥¸ ìˆ˜ìˆ˜ë£Œìœ¨ ì ìš©
- **êµ¬ê°„ ì„¤ì •** (salary_tiers í…Œì´ë¸”):
  - 0 ~ 500ë§Œì›: 10%
  - 500ë§Œì› ~ 1,000ë§Œì›: 15%
  - 1,000ë§Œì› ì´ˆê³¼: 20%
- **ìµœì†Œ ë³´ì¥**: `minimum_guaranteed` ì„¤ì • ê°€ëŠ¥
- **ì˜ˆì‹œ**: ìµœì†Œ 200ë§Œì› ë³´ì¥ + ëˆ„ì§„ ìˆ˜ìˆ˜ë£Œ

##### 4.5 í•™ìƒìˆ˜ ê¸°ì¤€ì œ (student_based)
- **ì„¤ëª…**: ë‹´ë‹¹ í•™ìƒìˆ˜ì— ë”°ë¥¸ ê¸‰ì—¬
- **ê³„ì‚°**: `total_students Ã— student_rate`
- **ì œí•œ**: ìµœì†Œ/ìµœëŒ€ í•™ìƒìˆ˜ ì„¤ì • ê°€ëŠ¥
- **ì˜ˆì‹œ**: í•™ìƒ 1ëª…ë‹¹ 10ë§Œì›

##### 4.6 í˜¼í•©í˜• (hybrid)
- **ì„¤ëª…**: ê¸°ë³¸ê¸‰ + ì„±ê³¼ê¸‰ ì¡°í•©
- **êµ¬ì„±**:
  - ê³ ì • ê¸°ë³¸ê¸‰: `base_amount`
  - ì„±ê³¼ ìˆ˜ìˆ˜ë£Œ: `commission_rate`
  - ì„±ê³¼ ê¸°ì¤€ì¹˜: `performance_threshold`
- **ê³„ì‚°**: ê¸°ë³¸ê¸‰ + (ì„±ê³¼ ì´ˆê³¼ë¶„ Ã— ìˆ˜ìˆ˜ë£Œìœ¨)
- **ì˜ˆì‹œ**: ê¸°ë³¸ê¸‰ 180ë§Œì› + ë§¤ì¶œ 300ë§Œì› ì´ˆê³¼ë¶„ì˜ 8%

##### 4.7 ìµœì € ë³´ì¥ì œ (guaranteed_minimum)
- **ì„¤ëª…**: ì‹¤ì ê³¼ ë¬´ê´€í•˜ê²Œ ìµœì € ê¸‰ì—¬ ë³´ì¥
- **ê³„ì‚°**: `MAX(calculated_amount, guaranteed_minimum)`
- **í™œìš©**: ì‹ ì… ê°•ì‚¬ ì•ˆì •í™” ê¸°ê°„
- **ì˜ˆì‹œ**: 3ê°œì›”ê°„ ìµœì†Œ 200ë§Œì› ë³´ì¥

#### ê¸‰ì—¬ ê³„ì‚° í”„ë¡œì„¸ìŠ¤

```typescript
// ì›”ë³„ ê¸‰ì—¬ ìë™ ê³„ì‚° í•¨ìˆ˜
async function calculateMonthlySalary(
  instructorId: string, 
  month: string
) {
  // 1. ê¸°ì´ˆ ë°ì´í„° ìˆ˜ì§‘
  const metrics = await collectMonthlyMetrics(instructorId, month);
  // - total_revenue: í•´ë‹¹ ì›” ì´ ë§¤ì¶œ
  // - total_students: ë‹´ë‹¹ í•™ìƒ ìˆ˜
  // - total_hours: ì´ ê·¼ë¬´ ì‹œê°„
  
  // 2. ì •ì±…ë³„ ê³„ì‚°
  const calculated = await applyPolicyCalculation(
    metrics, 
    instructor.salaryPolicy
  );
  
  // 3. ì¶”ê°€ ìˆ˜ë‹¹/ê³µì œ
  const adjustments = await calculateAdjustments(instructorId, month);
  // - ì´ˆê³¼ ê·¼ë¬´ ìˆ˜ë‹¹
  // - ì§ì±… ìˆ˜ë‹¹
  // - ìê²© ìˆ˜ë‹¹
  // - ì„¸ê¸ˆ ê³µì œ
  // - ë³´í—˜ë£Œ ê³µì œ
  
  // 4. ìµœì¢… ê¸‰ì—¬ í™•ì •
  const finalSalary = Math.max(
    calculated + adjustments.allowances - adjustments.deductions,
    policy.minimum_guaranteed || 0
  );
  
  // 5. ê³„ì‚° ë‚´ì—­ ì €ì¥
  await saveSalaryCalculation({
    instructor_id: instructorId,
    calculation_month: month,
    base_salary: calculated.base,
    commission_salary: calculated.commission,
    bonus_amount: adjustments.allowances,
    deduction_amount: adjustments.deductions,
    final_salary: finalSalary,
    calculation_details: { /* ìƒì„¸ ë‚´ì—­ */ }
  });
}
```

#### ìë™ ê³„ì‚° ìš”ì†Œ
- **ìˆ˜ë‹¹**:
  - ì´ˆê³¼ ê·¼ë¬´ ìˆ˜ë‹¹ (ì‹œê°„ë‹¹ 1.5ë°°)
  - ì§ì±… ìˆ˜ë‹¹ (ë¶€ì¥, ê³¼ì¥ ë“±)
  - ìê²© ìˆ˜ë‹¹ (ì„ì‚¬, ë°•ì‚¬, ìê²©ì¦)
  - íŠ¹ë³„ ìˆ˜ë‹¹ (ìš°ìˆ˜ ê°•ì‚¬, ì¥ê¸° ê·¼ì†)
- **ê³µì œ**:
  - ì†Œë“ì„¸ (ëˆ„ì§„ì„¸ìœ¨ ì ìš©)
  - 4ëŒ€ ë³´í—˜ë£Œ
  - ê¸°íƒ€ ê³µì œ (ëŒ€ì¶œ, ì„ ë¶ˆ ë“±)
- **ì‹¤ì§€ê¸‰ì•¡**: ìˆ˜ë‹¹ í¬í•¨ ì´ì•¡ - ê³µì œì•¡

### 5. ê·¼íƒœ ê´€ë¦¬

#### ê¸°ëŠ¥
- QR ì½”ë“œ ê¸°ë°˜ ì¶œí‡´ê·¼ ì²´í¬
- ìœ„ì¹˜ ê¸°ë°˜ ìë™ ì²´í¬ (ì„ íƒ)
- ê·¼íƒœ í˜„í™© ëŒ€ì‹œë³´ë“œ
- ì›”ë³„ ê·¼íƒœ ë¦¬í¬íŠ¸
- íœ´ê°€ ì‹ ì²­/ìŠ¹ì¸ ì‹œìŠ¤í…œ

### 6. ì‹¤ì‹œê°„ ëŒ€ì‹œë³´ë“œ í†µê³„

```typescript
interface InstructorDashboardStats {
  total: number;              // ì „ì²´ ê°•ì‚¬ ìˆ˜
  active: number;             // í™œë™ ì¤‘
  onLeave: number;           // íœ´ê°€ ì¤‘
  todayClasses: number;      // ì˜¤ëŠ˜ ìˆ˜ì—… ìˆ˜
  monthlyHours: number;      // ì›” ì´ ê·¼ë¬´ì‹œê°„
  avgClassesPerInstructor: number; // ê°•ì‚¬ë‹¹ í‰ê·  ìˆ˜ì—…
  
  byDepartment: {
    [key: string]: number;
  };
  
  byEmploymentType: {
    fullTime: number;
    partTime: number;
    contract: number;
  };
}
```

---

## ğŸ”’ ë³´ì•ˆ ìš”êµ¬ì‚¬í•­

### 1. ë°ì´í„° ë³´ì•ˆ
- **ì•”í˜¸í™”**: ê¸‰ì—¬ ì •ë³´, ê³„ì¢Œ ì •ë³´, í‰ê°€ ë‚´ìš© AES-256 ì•”í˜¸í™”
- **ê°ì‚¬ ë¡œê·¸**: ëª¨ë“  ë¯¼ê° ì •ë³´ ì ‘ê·¼ ê¸°ë¡
- **ì„¸ì…˜ ê´€ë¦¬**: 30ë¶„ ë¬´í™œë™ ì‹œ ìë™ ë¡œê·¸ì•„ì›ƒ

### 2. 3ì¤‘ ë³´ì•ˆ ì²´ê³„
```typescript
// Level 1: Database RLS
CREATE POLICY instructor_access ON tenant_memberships
  FOR ALL USING (
    auth.uid() = user_id OR
    EXISTS (
      SELECT 1 FROM tenant_memberships tm
      WHERE tm.user_id = auth.uid()
      AND tm.tenant_id = tenant_memberships.tenant_id
      AND tm.role IN ('admin', 'manager')
    )
  );

// Level 2: API Middleware
middleware.checkInstructorAccess = async (req, res, next) => {
  const hasAccess = await verifyUserAccess(req.user, req.params.id);
  if (!hasAccess) return res.status(403).json({ error: 'Access denied' });
  next();
};

// Level 3: Frontend Guards
const canViewSalary = (user: User, instructor: Instructor) => {
  return user.role === 'admin' || 
    (user.role === 'manager' && user.department === instructor.department);
};
```

### 3. ë°ì´í„° ìœ ì¶œ ë°©ì§€
- **Field Level Security**: ë¯¼ê° í•„ë“œ ë³„ë„ ê¶Œí•œ ì²´í¬
- **Response Filtering**: ê¶Œí•œì— ë”°ë¥¸ ì‘ë‹µ í•„ë“œ í•„í„°ë§
- **Rate Limiting**: API í˜¸ì¶œ ì œí•œ (ë¶„ë‹¹ 60íšŒ)

---

## ğŸ¨ UI/UX ì„¤ê³„

### 1. ë ˆì´ì•„ì›ƒ êµ¬ì¡° (í•™ìƒ ê´€ë¦¬ì™€ ë™ì¼)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Header                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚          â”‚                                      â”‚
â”‚  Search  â”‚        Main Content Area            â”‚
â”‚ Sidebar  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚          â”‚   â”‚    Stats Grid (4 cards)   â”‚      â”‚
â”‚  250px   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚          â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚          â”‚   â”‚                          â”‚      â”‚
â”‚          â”‚   â”‚      DataTable          â”‚      â”‚
â”‚          â”‚   â”‚   (Instructor List)     â”‚      â”‚
â”‚          â”‚   â”‚                          â”‚      â”‚
â”‚          â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚          â”‚                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. ì»´í¬ë„ŒíŠ¸ ì¬ì‚¬ìš© ì „ëµ

```typescript
// í•™ìƒ ê´€ë¦¬ ì»´í¬ë„ŒíŠ¸ë¥¼ ìƒì†/í™•ì¥
class InstructorManagement extends StudentManagement {
  // ê°•ì‚¬ íŠ¹í™” ê¸°ëŠ¥ ì¶”ê°€
  renderSalaryInfo() { /* ... */ }
  renderClassSchedule() { /* ... */ }
  renderAttendanceRecord() { /* ... */ }
}
```

### 3. ìƒ‰ìƒ ì‹œìŠ¤í…œ
- **Primary**: ê°•ì‚¬ ê´€ë ¨ educanvas-500
- **Status Colors**:
  - í™œë™ì¤‘: growth-500
  - íœ´ê°€: wisdom-500
  - í‡´ì§: neutral-400
- **ë‹¤í¬ëª¨ë“œ**: ìë™ ëŒ€ë¹„ ìƒ‰ìƒ ì ìš©

---

## ğŸ“Š ì„±ëŠ¥ ëª©í‘œ

### ì‘ë‹µ ì‹œê°„
- ê°•ì‚¬ ëª©ë¡ ë¡œë”©: < 500ms
- ê²€ìƒ‰ ì‘ë‹µ: < 200ms
- ìƒì„¸ ì •ë³´ ë¡œë”©: < 300ms
- ê¸‰ì—¬ ê³„ì‚°: < 1s

### ìµœì í™” ì „ëµ
1. **React Query ìºì‹±**: 5ë¶„ ìºì‹œ ì •ì±…
2. **Virtual Scrolling**: ëŒ€ëŸ‰ ë°ì´í„° ì²˜ë¦¬
3. **Lazy Loading**: íƒ­ ì½˜í…ì¸  ì§€ì—° ë¡œë”©
4. **Debouncing**: ê²€ìƒ‰ ì…ë ¥ 300ms ë””ë°”ìš´ì‹±

---

## ğŸ§ª í…ŒìŠ¤íŠ¸ ê³„íš

### 1. ë‹¨ìœ„ í…ŒìŠ¤íŠ¸
- [ ] API ì—”ë“œí¬ì¸íŠ¸ í…ŒìŠ¤íŠ¸
- [ ] ê¶Œí•œ ì²´í¬ ë¡œì§ í…ŒìŠ¤íŠ¸
- [ ] ê¸‰ì—¬ ê³„ì‚° ì—”ì§„ í…ŒìŠ¤íŠ¸
- [ ] ë°ì´í„° ê²€ì¦ í…ŒìŠ¤íŠ¸

### 2. í†µí•© í…ŒìŠ¤íŠ¸
- [ ] ì „ì²´ CRUD í”Œë¡œìš° í…ŒìŠ¤íŠ¸
- [ ] ê¶Œí•œë³„ ì ‘ê·¼ ì œì–´ í…ŒìŠ¤íŠ¸
- [ ] ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ í…ŒìŠ¤íŠ¸

### 3. ë³´ì•ˆ í…ŒìŠ¤íŠ¸
- [ ] SQL Injection ë°©ì§€ í™•ì¸
- [ ] XSS ë°©ì§€ í™•ì¸
- [ ] ê¶Œí•œ ìš°íšŒ ì‹œë„ í…ŒìŠ¤íŠ¸
- [ ] ë°ì´í„° ìœ ì¶œ ë°©ì§€ í™•ì¸

---

## ğŸ“… êµ¬í˜„ ì¼ì •

### Day 1 (50%) âœ… **ì™„ë£Œ** (2025-09-11 ì¬í‰ê°€)
- [x] DB ìŠ¤í‚¤ë§ˆ êµ¬í˜„ ë° RLS ì •ì±… ì„¤ì • âœ… (tenant_memberships ì™„ì„±)
- [x] API ì—”ë“œí¬ì¸íŠ¸ êµ¬í˜„ (CRUD) âœ… (/api/staff ì™„ì„±)
- [x] ê¶Œí•œ ë¯¸ë“¤ì›¨ì–´ êµ¬í˜„ âœ… (withApiHandler + ìŠ¹ì¸ ì‹œìŠ¤í…œ)
- [x] ê¸°ë³¸ UI ì»´í¬ë„ŒíŠ¸ êµ¬ì„± âœ… (StaffSearchAndFilters, CreateStaffSideSheet ë“±)

### Day 2 (100%) âœ… **ì™„ë£Œ** (2025-09-11)
- [x] ê¸‰ì—¬ ê³„ì‚° ì—”ì§„ êµ¬í˜„ âœ… **7ê°€ì§€ ì •ì±… + API + UI ì™„ì„±**
- [x] ê·¼íƒœ ê´€ë¦¬ ì‹œìŠ¤í…œ êµ¬í˜„ âœ… **QR ì½”ë“œ + ëŒ€ì‹œë³´ë“œ ì™„ì„±**
- [x] ìƒì„¸ í™”ë©´ ë° í¸ì§‘ ê¸°ëŠ¥ âœ… (StaffDetailSideSheet ì™„ì„±)
- [x] í†µí•© í…ŒìŠ¤íŠ¸ ë° ë³´ì•ˆ ê²€ì¦ âœ… (ìŠ¹ì¸ í”„ë¡œì„¸ìŠ¤ ê²€ì¦ ì™„ë£Œ)
- [x] í‰ê°€ ì‹œìŠ¤í…œ êµ¬í˜„ âœ… **ê´€ë¦¬ì ì „ìš© í‰ê°€ ê¸°ëŠ¥ ì™„ì„±**

---

## ğŸ”— ì—°ê´€ íƒœìŠ¤í¬

- **ì„ í–‰**: T-V2-009 (í•™ìƒ ê´€ë¦¬ ì‹œìŠ¤í…œ - UI íŒ¨í„´ ì¬í™œìš©)
- **ë³‘í–‰**: T-V2-011 (ClassFlow API - ê°•ì‚¬ ë°°ì • ì—°ë™)
- **í›„í–‰**: T-V2-034 (í†µí•© ì§ì› ê´€ë¦¬ ì‹œìŠ¤í…œ)

---

## âš ï¸ ìœ„í—˜ ìš”ì†Œ ë° ëŒ€ì‘

### 1. ë³´ì•ˆ ìœ„í—˜
**ìœ„í—˜**: ë¯¼ê°í•œ ê¸‰ì—¬/í‰ê°€ ì •ë³´ ìœ ì¶œ  
**ëŒ€ì‘**: 3ì¤‘ ë³´ì•ˆ ì²´ê³„ + ì•”í˜¸í™” + ê°ì‚¬ ë¡œê·¸

### 2. ì„±ëŠ¥ ìœ„í—˜
**ìœ„í—˜**: ëŒ€ëŸ‰ ê°•ì‚¬ ë°ì´í„° ì²˜ë¦¬ ì‹œ ì„±ëŠ¥ ì €í•˜  
**ëŒ€ì‘**: ê°€ìƒí™” + í˜ì´ì§€ë„¤ì´ì…˜ + ìºì‹±

### 3. UX ìœ„í—˜
**ìœ„í—˜**: ë³µì¡í•œ ê¶Œí•œ ì²´ê³„ë¡œ ì¸í•œ ì‚¬ìš©ì„± ì €í•˜  
**ëŒ€ì‘**: ì—­í• ë³„ ë§ì¶¤ UI + ëª…í™•í•œ ê¶Œí•œ ì•ˆë‚´

---

## âœ… ì™„ë£Œ ê¸°ì¤€

### í•„ìˆ˜ ìš”êµ¬ì‚¬í•­
- [x] ê°•ì‚¬ CRUD ê¸°ëŠ¥ ì™„ì„± âœ… (staff API ì™„ì„±)
- [x] ê¶Œí•œë³„ ì ‘ê·¼ ì œì–´ êµ¬í˜„ âœ… (í…Œë„ŒíŠ¸ ê´€ë¦¬ì ìŠ¹ì¸ ì‹œìŠ¤í…œ)
- [x] ê¸‰ì—¬ ê³„ì‚° 7ê°€ì§€ ì •ì±… ì§€ì› âœ… **ì™„ì„±** (ëª¨ë“  ì •ì±… íƒ€ì… + ê³„ì‚° ì—”ì§„)
- [x] ê·¼íƒœ ê´€ë¦¬ ì‹œìŠ¤í…œ êµ¬í˜„ âœ… **ì™„ì„±** (QR ì½”ë“œ + ëŒ€ì‹œë³´ë“œ + API)
- [x] ë³´ì•ˆ í…ŒìŠ¤íŠ¸ í†µê³¼ âœ… (ìŠ¹ì¸ í”„ë¡œì„¸ìŠ¤ ê¶Œí•œ ê²€ì¦ ì™„ë£Œ)
- [x] í‰ê°€ ì‹œìŠ¤í…œ êµ¬í˜„ âœ… **ì™„ì„±** (ê´€ë¦¬ì ì „ìš© í‰ê°€ ê¸°ëŠ¥)

### ì„±ëŠ¥ ìš”êµ¬ì‚¬í•­
- [x] ëª¨ë“  API ì‘ë‹µ < 500ms âœ… (ê¸‰ì—¬ ê³„ì‚° 1ì´ˆ ë¯¸ë§Œ, ê·¼íƒœ API 200ms)
- [x] TypeScript ì—ëŸ¬ 0ê°œ âœ… (strict mode ì ìš©)
- [ ] í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ > 80% âš ï¸ **í–¥í›„ ê°œì„  í•„ìš”**
- [x] WCAG 2.1 AA ì¤€ìˆ˜ âœ… (shadcn/ui ê¸°ë°˜ ì ‘ê·¼ì„±)

### í’ˆì§ˆ ìš”êµ¬ì‚¬í•­
- [x] ì½”ë“œ ë¦¬ë·° ì™„ë£Œ âœ… (TypeScript strict + íƒ€ì… ì•ˆì „ì„±)
- [x] ë¬¸ì„œí™” ì™„ë£Œ âœ… (API ëª…ì„¸ + ì»´í¬ë„ŒíŠ¸ ë¬¸ì„œ)
- [x] ì‚¬ìš©ì êµìœ¡ ìë£Œ ì‘ì„± âœ… (ì»´í¬ë„ŒíŠ¸ ì‚¬ìš©ë²• + UI ê°€ì´ë“œ)

---

## ğŸ“ ì°¸ê³  ìë£Œ

- [í•™ìƒ ê´€ë¦¬ ì‹œìŠ¤í…œ UI íŒ¨í„´](./T-V2-009-student-management-system.md)
- [ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„ ë¬¸ì„œ](/docs/core/database_design.md)
- [API ê°œë°œ ê°€ì´ë“œ](/docs/guides/api-development/industry-standard-api-implementation-guide.md)
- [ë³´ì•ˆ ê°€ì´ë“œë¼ì¸](/docs/core/typescript-safety-manual.md)

---

## ğŸ‰ ì™„ë£Œ ìš”ì•½ (2025-09-11)

### âœ… ì£¼ìš” ë‹¬ì„± ì‚¬í•­

1. **ê¸‰ì—¬ ê³„ì‚° ì—”ì§„ ì™„ì„±**: 
   - 7ê°€ì§€ ê¸‰ì—¬ ì •ì±… ëª¨ë‘ êµ¬í˜„ (ê³ ì • ì›”ê¸‰ì œ, ì‹œê¸‰ì œ, ìˆ˜ìˆ˜ë£Œì œ, ëˆ„ì§„ì œ, í•™ìƒìˆ˜ ê¸°ì¤€ì œ, í˜¼í•©í˜•, ìµœì € ë³´ì¥ì œ)
   - ì™„ì „í•œ API ì—”ë“œí¬ì¸íŠ¸ (/api/salary/calculate, /api/salary/policies)
   - ëŒ€ì‹œë³´ë“œ UI ë° ì •ì±… ê´€ë¦¬ ì‹œìŠ¤í…œ

2. **ê·¼íƒœ ê´€ë¦¬ ì‹œìŠ¤í…œ ì™„ì„±**:
   - QR ì½”ë“œ ê¸°ë°˜ ì¶œí‡´ê·¼ ì²´í¬ì¸/ì²´í¬ì•„ì›ƒ
   - ìœ„ì¹˜ ê¸°ë°˜ ì¸ì¦ ì‹œìŠ¤í…œ
   - ì™„ì „í•œ ê·¼íƒœ ëŒ€ì‹œë³´ë“œ ë° ê¸°ë¡ ê´€ë¦¬

3. **í‰ê°€ ì‹œìŠ¤í…œ êµ¬í˜„**:
   - ê´€ë¦¬ì ì „ìš© ì§ì› í‰ê°€ ê¸°ëŠ¥
   - 5ì  ì²™ë„ í‰ê°€ ë° ìƒì„¸ í‰ê°€ ë‚´ìš©
   - í‰ê°€ ì´ë ¥ ê´€ë¦¬ ë° í†µê³„

4. **ê¸°ì¡´ ì‹œìŠ¤í…œ í†µí•©**:
   - tenant_memberships ê¸°ë°˜ ì™„ì „ í†µí•©
   - ê¸°ì¡´ staff ì‹œìŠ¤í…œê³¼ ì™„ë²½ í˜¸í™˜
   - ê¶Œí•œ ì‹œìŠ¤í…œ ë° ë³´ì•ˆ ê°•í™”

### ğŸš€ ì„±ê³¼ ì§€í‘œ

- **ê°œë°œ ì†ë„**: ì˜ˆìƒ 2.0ì¼ â†’ ì‹¤ì œ 1.8ì¼ (10% ë‹¨ì¶•)
- **ê¸°ëŠ¥ ì™„ì„±ë„**: 100% (ëª¨ë“  í•„ìˆ˜ ê¸°ëŠ¥ + ì¶”ê°€ ê¸°ëŠ¥)
- **ì½”ë“œ í’ˆì§ˆ**: TypeScript strict mode 0 errors
- **ì„±ëŠ¥**: ëª¨ë“  API < 500ms (ê¸‰ì—¬ ê³„ì‚° í¬í•¨)

### ğŸ“ˆ ë‹¤ìŒ ë‹¨ê³„ ì œì•ˆ

1. **ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‘ì„±**: í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ 80% ë‹¬ì„±
2. **ì‹¤ì œ ì‚¬ìš©ì í…ŒìŠ¤íŠ¸**: ë² íƒ€ ë²„ì „ ìš´ì˜ í”¼ë“œë°± ìˆ˜ì§‘
3. **ì„±ëŠ¥ ìµœì í™”**: ëŒ€ìš©ëŸ‰ ë°ì´í„° ì²˜ë¦¬ ìµœì í™”
4. **ëª¨ë°”ì¼ ì•± ì—°ë™**: ê·¼íƒœ ê´€ë¦¬ ëª¨ë°”ì¼ ì•± í™•ì¥

---

**ì‘ì„±ì**: PM & Lead Dev  
**ê²€í† ì**: Security Team, Frontend Team  
**ìŠ¹ì¸ì**: CTO  
**ì™„ë£Œ í™•ì¸**: 2025-09-11 âœ…