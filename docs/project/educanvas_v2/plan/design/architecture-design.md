# EduCanvas v2 ì•„í‚¤í…ì²˜ ì„¤ê³„ ë¬¸ì„œ

## ğŸ“‹ ì„¤ê³„ ê°œìš”

**ì„¤ê³„ ì¼ì**: 2025-08-24  
**ì„¤ê³„ ë²„ì „**: v2.0 Architecture  
**ì„¤ê³„ ë²”ìœ„**: í•™ìƒ ê´€ë¦¬ ì‹œìŠ¤í…œ ì „ì²´ UI/UX ì¬ì„¤ê³„  
**í•µì‹¬ ì² í•™**: "ê²€ìƒ‰í•˜ë©´ì„œë„ ì „ì²´ë¥¼ ë†“ì¹˜ì§€ ì•ŠëŠ”ë‹¤"

## ğŸ¯ ì„¤ê³„ ëª©í‘œ ë° ì›ì¹™

### í•µì‹¬ ì„¤ê³„ ëª©í‘œ

1. **ê²€ìƒ‰ ì¤‘ì‹¬ ì›Œí¬í”Œë¡œìš°**: ì‚¬ì´ë“œë°” ê²€ìƒ‰ì„ ë©”ì¸ ì¸í„°í˜ì´ìŠ¤ë¡œ ì „í™˜
2. **Ready State UI**: ë¹ˆ í™”ë©´ ì—†ì´ í•­ìƒ ìœ ì˜ë¯¸í•œ ì½˜í…ì¸  í‘œì‹œ
3. **Desktop-First ìµœì í™”**: í”„ë¡œí˜ì…”ë„í•œ ë°ìŠ¤í¬í†± í™˜ê²½ì— ìµœì í™”
4. **ì •ë³´ ë°€ë„ ê·¹ëŒ€í™”**: í•œ í™”ë©´ì—ì„œ ë” ë§ì€ ì •ë³´ë¥¼ ì§ê´€ì ìœ¼ë¡œ í‘œì‹œ

### UI/UX ì„¤ê³„ ì›ì¹™

**ğŸ” Search-Driven Interface**
- ê²€ìƒ‰ì´ ê°€ì¥ ìš°ì„ ë˜ëŠ” ì¸í„°í˜ì´ìŠ¤
- ì‹¤ì‹œê°„ ê²€ìƒ‰ ê²°ê³¼ ë°˜ì˜
- ê³ ê¸‰ í•„í„°ë§ ì˜µì…˜ ì œê³µ

**ğŸ“± Information Dense Layout**
- ì¹´ë“œ ê¸°ë°˜ ì •ë³´ í‘œì‹œë¡œ ì •ë³´ ë°€ë„ ê·¹ëŒ€í™”
- í…Œì´ë¸”ì˜ ì œì•½ì„ ë„˜ì–´ì„  ìœ ì—°í•œ ë ˆì´ì•„ì›ƒ
- ì»¨í…ìŠ¤íŠ¸ë³„ ì •ë³´ ìš°ì„ ìˆœìœ„ ì ìš©

**âš¡ Immediate Response**
- ëª¨ë“  ì‚¬ìš©ì ì•¡ì…˜ì— ì¦‰ì‹œ í”¼ë“œë°±
- ë¡œë”© ìƒíƒœ ìµœì†Œí™”
- ì˜ˆì¸¡ì  ë°ì´í„° ë¡œë”©

**ğŸ¨ Professional Aesthetics**
- ê¹”ë”í•˜ê³  í˜„ëŒ€ì ì¸ ë””ìì¸
- ì¼ê´€ëœ ìƒ‰ìƒ ì²´ê³„ ë° íƒ€ì´í¬ê·¸ë˜í”¼
- í•™ì› í™˜ê²½ì— ì í•©í•œ í”„ë¡œí˜ì…”ë„í•œ ëŠë‚Œ

## ğŸ—ï¸ ì „ì²´ ì•„í‚¤í…ì²˜ êµ¬ì¡°

### 1. í˜ì´ì§€ ë ˆì´ì•„ì›ƒ êµ¬ì¡°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Header (Global Navigation)                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Search  â”‚ Breadcrumb + Page Title                           â”‚
â”‚ Sidebar â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚         â”‚ Student Info Tab Navigation                       â”‚
â”‚[ê°œë³„ê²€ìƒ‰]â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚ğŸ” ê²€ìƒ‰ì°½â”‚ â”‚ ê¸°ë³¸ì •ë³´ â”‚ ìˆ˜ê°•ë‚´ì—­ â”‚ ê²°ì œë‚´ì—­ â”‚ ì¶œê²°ê´€ë¦¬ â”‚ ìƒë‹´ê¸°ë¡ â”‚               â”‚
â”‚í™ê¸¸ë™   â”‚ â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚ê¹€ì² ìˆ˜   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ì´ì˜í¬   â”‚ Main Content Area                                â”‚
â”‚------  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚[ì„ íƒëœ  â”‚ â”‚ [ê¸°ë³¸ì •ë³´ íƒ­] ì „ì²´ ìš”ì•½ ëŒ€ì‹œë³´ë“œ               â”‚ â”‚
â”‚ í•™ìƒ]   â”‚ â”‚                                                 â”‚ â”‚
â”‚í™ê¸¸ë™   â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚ â”‚
â”‚ST001   â”‚ â”‚ â”‚ìˆ˜ê°•í˜„í™©   â”‚ â”‚ê²°ì œí˜„í™©   â”‚ â”‚ì¶œê²°í˜„í™©   â”‚           â”‚ â”‚
â”‚ê³ 1     â”‚ â”‚ â”‚3ê°œ ê³¼ëª©  â”‚ â”‚ì •ìƒë‚©ë¶€  â”‚ â”‚95% ì¶œì„â”‚           â”‚ â”‚
â”‚ğŸ“·ì‚¬ì§„   â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚ â”‚
â”‚ì—°ë½ì²˜   â”‚ â”‚                                                 â”‚ â”‚
â”‚------  â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚[ëª©ë¡ê²€ìƒ‰]â”‚ â”‚ â”‚ ìµœê·¼ í™œë™ ë‚´ì—­                               â”‚ â”‚ â”‚
â”‚ğŸ” í•„í„°  â”‚ â”‚ â”‚ â€¢ 2024-08-20 ìˆ˜í•™ ìˆ˜ì—… ì¶œì„                 â”‚ â”‚ â”‚
â”‚ğŸ“‹ í•™ìƒ  â”‚ â”‚ â”‚ â€¢ 2024-08-18 ì›” ìˆ˜ì—…ë£Œ ë‚©ë¶€                 â”‚ â”‚ â”‚
â”‚   ëª©ë¡  â”‚ â””â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. ì‚¬ì´ë“œë°” ê²€ìƒ‰ íŒ¨ë„ ìƒì„¸ ì„¤ê³„

```tsx
<SearchSidebar>
  {/* ===== ì„¹ì…˜ 1: ê°œë³„ í•™ìƒ ìŠ¤ë§ˆíŠ¸ ê²€ìƒ‰ ===== */}
  <IndividualSearchSection>
    <SectionHeader>ê°œë³„ ê²€ìƒ‰</SectionHeader>
    
    {/* ìŠ¤ë§ˆíŠ¸ ê²€ìƒ‰ì°½ */}
    <SmartSearchInput 
      placeholder="í•™ìƒ ì´ë¦„, ì „í™”ë²ˆí˜¸ë¡œ ê²€ìƒ‰"
      value={individualSearchQuery}
      onChange={handleIndividualSearch}
      autoFocus
    />
    
    {/* ì‹¬í”Œí•œ ê²€ìƒ‰ ê²°ê³¼ ë¦¬ìŠ¤íŠ¸ */}
    {individualSearchResults.length > 0 && (
      <SimpleSearchResults>
        {individualSearchResults.map(student => (
          <SimpleStudentItem
            key={student.id}
            student={student}
            onClick={() => selectStudent(student)}
          >
            <span className="font-medium">{student.name}</span>
            <span className="text-sm text-gray-500">
              {student.grade_level} | {student.school_name}
            </span>
          </SimpleStudentItem>
        ))}
      </SimpleSearchResults>
    )}
  </IndividualSearchSection>

  <Divider />

  {/* ===== ì„¹ì…˜ 2: ì„ íƒëœ í•™ìƒ ì‹ ìƒì •ë³´ ===== */}
  {selectedStudent && (
    <SelectedStudentProfileSection>
      <SectionHeader>ì„ íƒëœ í•™ìƒ</SectionHeader>
      
      <StudentProfile>
        <StudentAvatar 
          student={selectedStudent} 
          size="xl"
          className="mx-auto mb-3" 
        />
        
        <div className="text-center space-y-1">
          <h3 className="font-bold text-lg">{selectedStudent.name}</h3>
          <p className="text-sm text-gray-600">{selectedStudent.student_number}</p>
          <p className="text-sm text-gray-600">{selectedStudent.grade_level}</p>
          <p className="text-sm text-gray-600">{selectedStudent.school_name}</p>
          <StatusBadge status={selectedStudent.status} className="mt-2" />
        </div>
        
        <ContactInfo className="mt-3 space-y-1">
          {selectedStudent.phone && (
            <div className="flex items-center gap-2 text-sm">
              <PhoneIcon size={14} />
              <span>{selectedStudent.phone}</span>
            </div>
          )}
          {selectedStudent.parent_phone_1 && (
            <div className="flex items-center gap-2 text-sm">
              <PhoneIcon size={14} />
              <span>{selectedStudent.parent_phone_1} (í•™ë¶€ëª¨)</span>
            </div>
          )}
          {selectedStudent.email && (
            <div className="flex items-center gap-2 text-sm">
              <EmailIcon size={14} />
              <span>{selectedStudent.email}</span>
            </div>
          )}
        </ContactInfo>
      </StudentProfile>
    </SelectedStudentProfileSection>
  )}

  <Divider />

  {/* ===== ì„¹ì…˜ 3: í•™ìƒ ëª©ë¡ ê²€ìƒ‰ (í•„í„° ê¸°ë°˜) ===== */}
  <ListSearchSection>
    <SectionHeader>í•™ìƒ ëª©ë¡</SectionHeader>
    
    {/* ë¹ ë¥¸ í•„í„° */}
    <QuickFilters>
      <FilterChip 
        label="í™œì„± í•™ìƒ" 
        count={1247} 
        active={filters.status === 'active'}
        onClick={() => setFilter('status', 'active')}
      />
      <FilterChip 
        label="ì‹ ê·œ í•™ìƒ" 
        count={23}
        active={filters.isNew === true}
        onClick={() => setFilter('isNew', true)}
      />
      <FilterChip 
        label="ìˆ˜ì—…ë£Œ ë¯¸ë‚©" 
        count={8}
        active={filters.paymentStatus === 'unpaid'}
        onClick={() => setFilter('paymentStatus', 'unpaid')}
      />
    </QuickFilters>
    
    {/* ê³ ê¸‰ í•„í„° */}
    <AdvancedFilters collapsed>
      <GradeLevelFilter />
      <ClassFilter />
      <SchoolFilter />
      <DateRangeFilter />
    </AdvancedFilters>
    
    {/* í•„í„°ë§ëœ í•™ìƒ ëª©ë¡ */}
    <FilteredStudentList>
      {filteredStudents.map(student => (
        <StudentListItem
          key={student.id}
          student={student}
          isSelected={selectedStudent?.id === student.id}
          onClick={() => selectStudent(student)}
          compact={true}
        />
      ))}
    </FilteredStudentList>
    
    {/* ëª©ë¡ í†µê³„ */}
    <ListStats>
      ì´ {totalCount}ëª… ì¤‘ {filteredStudents.length}ëª… í‘œì‹œ
    </ListStats>
  </ListSearchSection>
</SearchSidebar>
```

### 3. ë©”ì¸ ì½˜í…ì¸  ì˜ì—­ ì„¤ê³„

```tsx
<MainContent>
  {/* ìƒë‹¨ ë„¤ë¹„ê²Œì´ì…˜ */}
  <ContentHeader>
    <Breadcrumb>
      <BreadcrumbItem>ë©”ì¸</BreadcrumbItem>
      <BreadcrumbItem>í•™ìƒ ê´€ë¦¬</BreadcrumbItem>
      {selectedStudent && (
        <BreadcrumbItem>{selectedStudent.name}</BreadcrumbItem>
      )}
    </Breadcrumb>
    
    {/* í•™ìƒ ì •ë³´ ì¹´í…Œê³ ë¦¬ íƒ­ - í•™ìƒì´ ì„ íƒëœ ê²½ìš°ì—ë§Œ í‘œì‹œ */}
    {selectedStudent && (
      <StudentDetailTabs>
        <Tab 
          active={activeTab === 'overview'}
          onClick={() => setActiveTab('overview')}
        >
          ê¸°ë³¸ì •ë³´
        </Tab>
        <Tab 
          active={activeTab === 'courses'}
          onClick={() => setActiveTab('courses')}
        >
          ìˆ˜ê°•ë‚´ì—­
        </Tab>
        <Tab 
          active={activeTab === 'payments'}
          onClick={() => setActiveTab('payments')}
        >
          ê²°ì œë‚´ì—­
        </Tab>
        <Tab 
          active={activeTab === 'attendance'}
          onClick={() => setActiveTab('attendance')}
        >
          ì¶œê²°ê´€ë¦¬
        </Tab>
        <Tab 
          active={activeTab === 'counseling'}
          onClick={() => setActiveTab('counseling')}
        >
          ìƒë‹´ê¸°ë¡
        </Tab>
      </StudentDetailTabs>
    )}
    
    {selectedStudent && (
      <ActionButtons>
        <Button variant="primary" onClick={() => openEditModal(selectedStudent)}>
          ì •ë³´ ìˆ˜ì •
        </Button>
        <Button variant="outline" onClick={() => handleCall(selectedStudent)}>
          ì—°ë½í•˜ê¸°
        </Button>
        <Button variant="ghost" onClick={() => handlePrint(selectedStudent)}>
          ì¸ì‡„í•˜ê¸°
        </Button>
      </ActionButtons>
    )}
  </ContentHeader>
  
  {/* ì„ íƒëœ í•™ìƒì˜ ìƒì„¸ ì •ë³´ */}
  {selectedStudent ? (
    <StudentDetailView>
      {/* ì„ íƒëœ íƒ­ì— ë”°ë¥¸ ìƒì„¸ ì •ë³´ */}
      <TabContent>
        {activeTab === 'overview' && (
          <OverviewTab student={selectedStudent}>
            {/* ìš”ì•½ ëŒ€ì‹œë³´ë“œ */}
            <SummaryDashboard>
              <SummaryCard title="ìˆ˜ê°• í˜„í™©" icon="academic-cap">
                <div className="text-2xl font-bold">3ê°œ ê³¼ëª©</div>
                <div className="text-sm text-gray-600">ìˆ˜í•™, ì˜ì–´, ë¬¼ë¦¬</div>
              </SummaryCard>
              
              <SummaryCard title="ê²°ì œ í˜„í™©" icon="credit-card">
                <div className="text-2xl font-bold text-green-600">ì •ìƒ ë‚©ë¶€</div>
                <div className="text-sm text-gray-600">ë‹¤ìŒ ë‚©ë¶€: 2024-09-01</div>
              </SummaryCard>
              
              <SummaryCard title="ì¶œê²° í˜„í™©" icon="calendar">
                <div className="text-2xl font-bold text-blue-600">95%</div>
                <div className="text-sm text-gray-600">ì´ë²ˆ ë‹¬ ì¶œì„ë¥ </div>
              </SummaryCard>
              
              <SummaryCard title="ìƒë‹´ í˜„í™©" icon="chat">
                <div className="text-2xl font-bold">2ê±´</div>
                <div className="text-sm text-gray-600">ì§„í–‰ ì¤‘ì¸ ìƒë‹´</div>
              </SummaryCard>
            </SummaryDashboard>
            
            {/* ìµœê·¼ í™œë™ */}
            <RecentActivities>
              <h3 className="text-lg font-semibold mb-4">ìµœê·¼ í™œë™ ë‚´ì—­</h3>
              <ActivityItem>
                <ActivityIcon type="attendance" />
                <div>
                  <div className="font-medium">ìˆ˜í•™ ìˆ˜ì—… ì¶œì„</div>
                  <div className="text-sm text-gray-500">2024-08-20 14:00</div>
                </div>
              </ActivityItem>
              <ActivityItem>
                <ActivityIcon type="payment" />
                <div>
                  <div className="font-medium">8ì›” ìˆ˜ì—…ë£Œ ë‚©ë¶€</div>
                  <div className="text-sm text-gray-500">2024-08-18 10:30</div>
                </div>
              </ActivityItem>
              <ActivityItem>
                <ActivityIcon type="counseling" />
                <div>
                  <div className="font-medium">í•™ìŠµ ìƒë‹´ ì™„ë£Œ</div>
                  <div className="text-sm text-gray-500">2024-08-15 16:00</div>
                </div>
              </ActivityItem>
            </RecentActivities>
          </OverviewTab>
        )}
        
        {activeTab === 'courses' && (
          <CoursesTab student={selectedStudent}>
            {/* ìˆ˜ê°• ê³¼ëª© ìƒì„¸ ì •ë³´ */}
            <CourseList />
            <CourseSchedule />
            <CourseProgress />
          </CoursesTab>
        )}
        
        {activeTab === 'payments' && (
          <PaymentsTab student={selectedStudent}>
            {/* ê²°ì œ ë‚´ì—­ ìƒì„¸ ì •ë³´ */}
            <PaymentHistory />
            <PaymentStatus />
            <UpcomingPayments />
          </PaymentsTab>
        )}
        
        {activeTab === 'attendance' && (
          <AttendanceTab student={selectedStudent}>
            {/* ì¶œê²° ê´€ë¦¬ ìƒì„¸ ì •ë³´ */}
            <AttendanceCalendar />
            <AttendanceStats />
            <AttendanceAlerts />
          </AttendanceTab>
        )}
        
        {activeTab === 'counseling' && (
          <CounselingTab student={selectedStudent}>
            {/* ìƒë‹´ ê¸°ë¡ ìƒì„¸ ì •ë³´ */}
            <CounselingHistory />
            <CounselingNotes />
            <CounselingSchedule />
          </CounselingTab>
        )}
      </TabContent>
    </StudentDetailView>
  ) : (
    <EmptyState>
      <div className="text-center py-16">
        <SearchIcon className="mx-auto h-16 w-16 text-gray-400 mb-4" />
        <h2 className="text-xl font-semibold text-gray-600 mb-2">
          í•™ìƒì„ ì„ íƒí•´ì£¼ì„¸ìš”
        </h2>
        <p className="text-gray-500">
          ì‚¬ì´ë“œë°”ì—ì„œ í•™ìƒì„ ê²€ìƒ‰í•˜ê³  ì„ íƒí•˜ë©´ <br />
          ìƒì„¸ ì •ë³´ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤.
        </p>
        <div className="mt-6">
          <Button variant="outline" onClick={() => focusSearchInput()}>
            í•™ìƒ ê²€ìƒ‰í•˜ê¸°
          </Button>
        </div>
      </div>
    </EmptyState>
  )}
</MainContent>
```

## ğŸ´ í•µì‹¬ ì»´í¬ë„ŒíŠ¸ ì„¤ê³„

### 1. SimpleStudentItem ì»´í¬ë„ŒíŠ¸ (ê°œë³„ ê²€ìƒ‰ ê²°ê³¼ìš©)

```tsx
interface SimpleStudentItemProps {
  student: Student;
  onClick: (student: Student) => void;
  highlighted?: boolean;
}

const SimpleStudentItem = memo<SimpleStudentItemProps>(({ 
  student, 
  onClick,
  highlighted = false
}) => {
  return (
    <div 
      className={cn(
        "simple-student-item",
        "flex flex-col gap-1 p-2 rounded cursor-pointer transition-colors",
        "hover:bg-gray-50",
        highlighted && "bg-blue-50"
      )}
      role="button"
      tabIndex={0}
      onClick={() => onClick(student)}
      onKeyDown={(e) => {
        if (e.key === 'Enter' || e.key === ' ') {
          e.preventDefault();
          onClick(student);
        }
      }}
      aria-label={`${student.name} í•™ìƒ ì„ íƒ`}
    >
      <span className="font-medium text-gray-900 text-sm">
        {student.name}
      </span>
      <span className="text-xs text-gray-500">
        {student.grade_level} | {student.school_name || 'í•™êµ ë¯¸ì„¤ì •'}
      </span>
    </div>
  );
});

// ëª©ë¡ ê²€ìƒ‰ìš© ë” ìƒì„¸í•œ ì»´í¬ë„ŒíŠ¸
interface StudentListItemProps {
  student: Student;
  isSelected?: boolean;
  onClick: (student: Student) => void;
}

const StudentListItem = memo<StudentListItemProps>(({ 
  student, 
  isSelected = false,
  onClick
}) => {
  const itemContent = useMemo(() => ({
    name: student.name,
    studentNumber: student.student_number,
    status: student.status,
    avatar: generateAvatar(student.name),
    phone: student.phone || student.parent_phone_1,
    grade: student.grade_level,
    paymentStatus: getPaymentStatus(student),
  }), [student]);

  return (
    <div 
      className={cn(
        "student-list-item",
        "flex items-center gap-2 p-2 rounded cursor-pointer transition-colors",
        "hover:bg-gray-50 border border-transparent",
        isSelected && "bg-blue-50 border-blue-200",
        student.status === 'inactive' && "opacity-60"
      )}
      role="button"
      tabIndex={0}
      onClick={() => onClick(student)}
      onKeyDown={(e) => {
        if (e.key === 'Enter' || e.key === ' ') {
          e.preventDefault();
          onClick(student);
        }
      }}
      aria-label={`${itemContent.name} í•™ìƒ ì„ íƒ`}
    >
      {/* ì‘ì€ ì•„ë°”íƒ€ */}
      <Avatar 
        src={itemContent.avatar}
        fallback={itemContent.name[0]}
        size="sm"
        className={cn(
          isSelected && "ring-1 ring-blue-400"
        )}
      />
      
      {/* í•™ìƒ ì •ë³´ */}
      <div className="flex-1 min-w-0">
        <div className="flex items-center justify-between">
          <span className="font-medium text-sm text-gray-900 truncate">
            {itemContent.name}
          </span>
          <PaymentStatusDot status={itemContent.paymentStatus} />
        </div>
        
        <div className="text-xs text-gray-500 truncate">
          {itemContent.studentNumber}
          {itemContent.grade && ` Â· ${itemContent.grade}`}
        </div>
      </div>
    </div>
  );
});
```

### 2. SelectedStudentProfile ì»´í¬ë„ŒíŠ¸ (ì‚¬ì´ë“œë°” ì„ íƒëœ í•™ìƒ)

```tsx
interface SelectedStudentProfileProps {
  student: Student;
  onEdit?: () => void;
  onCall?: () => void;
}

const SelectedStudentProfile = memo<SelectedStudentProfileProps>(({ 
  student, 
  onEdit,
  onCall
}) => {
  return (
    <div className="selected-student-profile bg-white rounded-lg p-4 border shadow-sm">
      {/* í•™ìƒ ì•„ë°”íƒ€ */}
      <div className="text-center mb-4">
        <StudentAvatar 
          student={student} 
          size="xl"
          className="mx-auto mb-3" 
        />
        <h3 className="font-bold text-lg text-gray-900">{student.name}</h3>
        <p className="text-sm text-gray-600">{student.student_number}</p>
      </div>
      
      {/* ê¸°ë³¸ ì •ë³´ */}
      <div className="space-y-2 text-sm">
        {student.grade_level && (
          <div className="flex items-center gap-2">
            <AcademicCapIcon size={14} className="text-gray-400" />
            <span>{student.grade_level}</span>
          </div>
        )}
        {student.school_name && (
          <div className="flex items-center gap-2">
            <BuildingIcon size={14} className="text-gray-400" />
            <span className="truncate">{student.school_name}</span>
          </div>
        )}
        {student.phone && (
          <div className="flex items-center gap-2">
            <PhoneIcon size={14} className="text-gray-400" />
            <span>{student.phone}</span>
            {onCall && (
              <Button
                variant="ghost"
                size="xs"
                onClick={onCall}
                className="ml-auto"
              >
                ì—°ê²°
              </Button>
            )}
          </div>
        )}
        {student.parent_phone_1 && (
          <div className="flex items-center gap-2">
            <PhoneIcon size={14} className="text-gray-400" />
            <span>{student.parent_phone_1}</span>
            <span className="text-xs text-gray-500">(í•™ë¶€ëª¨)</span>
          </div>
        )}
        {student.email && (
          <div className="flex items-center gap-2">
            <EmailIcon size={14} className="text-gray-400" />
            <span className="truncate">{student.email}</span>
          </div>
        )}
      </div>
      
      {/* ìƒíƒœ ë° ì•¡ì…˜ */}
      <div className="mt-4 pt-3 border-t">
        <div className="flex items-center justify-between mb-3">
          <StatusBadge status={student.status} />
          <PaymentStatusBadge student={student} size="sm" />
        </div>
        
        {onEdit && (
          <Button 
            variant="outline" 
            size="sm" 
            onClick={onEdit}
            className="w-full"
          >
            ì •ë³´ ìˆ˜ì •
          </Button>
        )}
      </div>
    </div>
  );
});
```

### 3. SummaryCard ì»´í¬ë„ŒíŠ¸ (ê¸°ë³¸ì •ë³´ íƒ­ ìš”ì•½ìš©)

```tsx
interface SummaryCardProps {
  title: string;
  icon: string;
  value: string | number;
  subtitle?: string;
  trend?: 'up' | 'down' | 'neutral';
  color?: 'blue' | 'green' | 'red' | 'yellow' | 'gray';
  onClick?: () => void;
}

const SummaryCard = memo<SummaryCardProps>(({
  title,
  icon,
  value,
  subtitle,
  trend,
  color = 'gray',
  onClick
}) => {
  const colorClasses = {
    blue: 'border-blue-200 bg-blue-50',
    green: 'border-green-200 bg-green-50',
    red: 'border-red-200 bg-red-50',
    yellow: 'border-yellow-200 bg-yellow-50',
    gray: 'border-gray-200 bg-gray-50'
  };
  
  const iconColorClasses = {
    blue: 'text-blue-600',
    green: 'text-green-600', 
    red: 'text-red-600',
    yellow: 'text-yellow-600',
    gray: 'text-gray-600'
  };
  
  const valueColorClasses = {
    blue: 'text-blue-700',
    green: 'text-green-700',
    red: 'text-red-700', 
    yellow: 'text-yellow-700',
    gray: 'text-gray-700'
  };

  return (
    <div 
      className={cn(
        "summary-card",
        "rounded-lg border-2 p-4 transition-all",
        colorClasses[color],
        onClick && "cursor-pointer hover:shadow-md"
      )}
      onClick={onClick}
      role={onClick ? "button" : undefined}
      tabIndex={onClick ? 0 : undefined}
    >
      {/* í—¤ë” */}
      <div className="flex items-center justify-between mb-3">
        <h4 className="text-sm font-medium text-gray-600">{title}</h4>
        <Icon 
          name={icon} 
          size={20} 
          className={iconColorClasses[color]} 
        />
      </div>
      
      {/* ë©”ì¸ ê°’ */}
      <div className="mb-2">
        <div className={cn(
          "text-2xl font-bold",
          valueColorClasses[color]
        )}>
          {value}
        </div>
        {subtitle && (
          <p className="text-sm text-gray-600 mt-1">{subtitle}</p>
        )}
      </div>
      
      {/* íŠ¸ë Œë“œ ì¸ë””ì¼€ì´í„° */}
      {trend && (
        <div className="flex items-center text-xs">
          <TrendIcon 
            trend={trend} 
            className={cn(
              "mr-1",
              trend === 'up' && "text-green-500",
              trend === 'down' && "text-red-500", 
              trend === 'neutral' && "text-gray-400"
            )}
          />
          <span className="text-gray-500">
            {trend === 'up' && 'ì¦ê°€'}
            {trend === 'down' && 'ê°ì†Œ'}
            {trend === 'neutral' && 'ìœ ì§€'}
          </span>
        </div>
      )}
    </div>
  );
});
```

### 4. SmartSearchInput ì»´í¬ë„ŒíŠ¸

```tsx
interface SmartSearchInputProps {
  value: string;
  onChange: (value: string) => void;
  placeholder?: string;
  onFocus?: () => void;
  onBlur?: () => void;
  autoFocus?: boolean;
}

const SmartSearchInput = memo<SmartSearchInputProps>(({
  value,
  onChange,
  placeholder = "í•™ìƒ ì´ë¦„, ì „í™”ë²ˆí˜¸ë¡œ ê²€ìƒ‰",
  onFocus,
  onBlur,
  autoFocus = false
}) => {
  const [isFocused, setIsFocused] = useState(false);
  const inputRef = useRef<HTMLInputElement>(null);
  
  // ì‹¤ì‹œê°„ ê²€ìƒ‰ (ë§¤ìš° ë¹ ë¥¸ ë°˜ì‘)
  const handleInputChange = useCallback((e: ChangeEvent<HTMLInputElement>) => {
    const query = e.target.value;
    onChange(query);
  }, [onChange]);
  
  const handleFocus = useCallback(() => {
    setIsFocused(true);
    onFocus?.();
  }, [onFocus]);
  
  const handleBlur = useCallback(() => {
    setIsFocused(false);
    onBlur?.();
  }, [onBlur]);
  
  return (
    <div className={cn(
      "smart-search-input relative",
      isFocused && "focused"
    )}>
      <div className="relative">
        <SearchIcon 
          className="absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"
          size={16}
        />
        <input
          ref={inputRef}
          type="text"
          value={value}
          onChange={handleInputChange}
          placeholder={placeholder}
          autoFocus={autoFocus}
          onFocus={handleFocus}
          onBlur={handleBlur}
          className={cn(
            "w-full pl-10 pr-4 py-2 text-sm",
            "border border-gray-300 rounded-lg",
            "focus:ring-2 focus:ring-blue-500 focus:border-blue-500",
            "transition-colors duration-200"
          )}
          role="searchbox"
          aria-label="í•™ìƒ ê²€ìƒ‰"
        />
        {value && (
          <Button
            variant="ghost"
            size="xs"
            onClick={() => onChange('')}
            className="absolute right-2 top-1/2 transform -translate-y-1/2"
            aria-label="ê²€ìƒ‰ì–´ ì§€ìš°ê¸°"
          >
            <XIcon size={14} />
          </Button>
        )}
      </div>
    </div>
  );
});
```

## ğŸ”„ ìƒˆë¡œìš´ ìƒíƒœ ê´€ë¦¬ ì•„í‚¤í…ì²˜

### ìˆ˜ì •ëœ Store êµ¬ì¡°

```typescript
// stores/studentsV2Store.ts
interface StudentsV2State {
  // ê°œë³„ ê²€ìƒ‰ ìƒíƒœ
  individualSearch: {
    query: string;
    results: Student[];
    isSearching: boolean;
  };
  
  // ëª©ë¡ ê²€ìƒ‰ ìƒíƒœ  
  listSearch: {
    filters: SearchFilters;
    results: Student[];
    isLoading: boolean;
    pagination: PaginationState;
  };
  
  // ì„ íƒëœ í•™ìƒ ìƒíƒœ
  selectedStudent: {
    student: Student | null;
    activeTab: 'overview' | 'courses' | 'payments' | 'attendance' | 'counseling';
    detailsLoading: boolean;
  };
  
  // UI ìƒíƒœ
  ui: {
    sidebarCollapsed: boolean;
    showCreateModal: boolean;
    showEditModal: boolean;
  };
  
  // ì•¡ì…˜ë“¤
  actions: {
    // ê°œë³„ ê²€ìƒ‰ ì•¡ì…˜
    setIndividualSearchQuery: (query: string) => void;
    performIndividualSearch: (query: string) => Promise<void>;
    
    // ëª©ë¡ ê²€ìƒ‰ ì•¡ì…˜
    setListFilters: (filters: Partial<SearchFilters>) => void;
    performListSearch: () => Promise<void>;
    
    // í•™ìƒ ì„ íƒ ì•¡ì…˜
    selectStudent: (student: Student) => void;
    setActiveTab: (tab: StudentTab) => void;
    loadStudentDetails: (studentId: string) => Promise<void>;
    
    // CRUD ì•¡ì…˜
    createStudent: (data: CreateStudentData) => Promise<void>;
    updateStudent: (id: string, data: UpdateStudentData) => Promise<void>;
    deleteStudent: (id: string) => Promise<void>;
    
    // UI ì•¡ì…˜
    toggleSidebar: (collapsed?: boolean) => void;
    openCreateModal: () => void;
    openEditModal: (student: Student) => void;
  };
}

const useStudentsV2Store = create<StudentsV2State>()((set, get) => ({
  // ì´ˆê¸° ìƒíƒœ
  individualSearch: {
    query: '',
    results: [],
    isSearching: false,
  },
  
  listSearch: {
    filters: {},
    results: [],
    isLoading: false,
    pagination: { page: 1, limit: 50, total: 0 },
  },
  
  selectedStudent: {
    student: null,
    activeTab: 'overview',
    detailsLoading: false,
  },
  
  ui: {
    sidebarCollapsed: false,
    showCreateModal: false,
    showEditModal: false,
  },
  
  actions: {
    // ê°œë³„ ê²€ìƒ‰ (ìŠ¤ë§ˆíŠ¸ ê²€ìƒ‰)
    setIndividualSearchQuery: (query: string) => {
      set(produce((draft) => {
        draft.individualSearch.query = query;
        if (query.length === 0) {
          draft.individualSearch.results = [];
        }
      }));
      
      // ë””ë°”ìš´ìŠ¤ëœ ê²€ìƒ‰ ì‹¤í–‰
      if (query.length >= 2) {
        debounce(() => {
          get().actions.performIndividualSearch(query);
        }, 300)();
      }
    },
    
    performIndividualSearch: async (query: string) => {
      set(produce((draft) => {
        draft.individualSearch.isSearching = true;
      }));
      
      try {
        const results = await apiCall<Student[]>('/api/students/search', {
          params: { 
            q: query, 
            limit: 10, // ê°œë³„ ê²€ìƒ‰ì€ ìµœëŒ€ 10ê°œë§Œ
            fields: ['name', 'student_number', 'grade_level', 'school_name']
          }
        });
        
        set(produce((draft) => {
          draft.individualSearch.results = results;
          draft.individualSearch.isSearching = false;
        }));
      } catch (error) {
        set(produce((draft) => {
          draft.individualSearch.isSearching = false;
        }));
      }
    },
    
    // í•™ìƒ ì„ íƒ (ê°œë³„ ê²€ìƒ‰ ë˜ëŠ” ëª©ë¡ì—ì„œ)
    selectStudent: (student: Student) => {
      set(produce((draft) => {
        draft.selectedStudent.student = student;
        draft.selectedStudent.activeTab = 'overview';
        draft.selectedStudent.detailsLoading = true;
      }));
      
      // ìƒì„¸ ì •ë³´ ë¡œë“œ
      get().actions.loadStudentDetails(student.id);
    },
    
    loadStudentDetails: async (studentId: string) => {
      try {
        const detailedStudent = await apiCall<StudentDetails>(`/api/students/${studentId}`, {
          params: { include: 'courses,payments,attendance,counseling' }
        });
        
        set(produce((draft) => {
          draft.selectedStudent.student = detailedStudent;
          draft.selectedStudent.detailsLoading = false;
        }));
      } catch (error) {
        set(produce((draft) => {
          draft.selectedStudent.detailsLoading = false;
        }));
      }
    },
    
    setActiveTab: (tab: StudentTab) => {
      set(produce((draft) => {
        draft.selectedStudent.activeTab = tab;
      }));
    },
    
    // ëª©ë¡ ê²€ìƒ‰ (í•„í„° ê¸°ë°˜)
    setListFilters: (filters: Partial<SearchFilters>) => {
      set(produce((draft) => {
        draft.listSearch.filters = { ...draft.listSearch.filters, ...filters };
      }));
      
      // í•„í„° ë³€ê²½ì‹œ ì¦‰ì‹œ ê²€ìƒ‰
      get().actions.performListSearch();
    },
    
    performListSearch: async () => {
      const { listSearch } = get();
      
      set(produce((draft) => {
        draft.listSearch.isLoading = true;
      }));
      
      try {
        const response = await apiCall<StudentsResponse>('/api/students', {
          params: {
            ...listSearch.filters,
            page: listSearch.pagination.page,
            limit: listSearch.pagination.limit,
          }
        });
        
        set(produce((draft) => {
          draft.listSearch.results = response.students;
          draft.listSearch.pagination.total = response.total;
          draft.listSearch.isLoading = false;
        }));
      } catch (error) {
        set(produce((draft) => {
          draft.listSearch.isLoading = false;
        }));
      }
    },
    
    // ... ê¸°íƒ€ CRUD ì•¡ì…˜ë“¤
  },
}));
```

---

**ë‹¤ìŒ ë‹¨ê³„**: ë§ˆì´ê·¸ë ˆì´ì…˜ ì „ëµ ë° ë¡¤ë°± ê³„íš ìˆ˜ë¦½  
**ì˜ˆìƒ êµ¬í˜„ ê¸°ê°„**: 6-8ì£¼ (ë‹¨ê³„ë³„ 2-3ì£¼ì”©)  
**í•µì‹¬ í˜ì‹  í¬ì¸íŠ¸**: ê²€ìƒ‰ ì¤‘ì‹¬ + ì‚¬ì´ë“œë°” í•™ìƒ í”„ë¡œí•„ + ìš”ì•½ ëŒ€ì‹œë³´ë“œ
  onChange,
  placeholder = "ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš”",
  autoFocus = false,
  suggestions = []
}) => {
  const [isFocused, setIsFocused] = useState(false);
  const [showSuggestions, setShowSuggestions] = useState(false);
  const inputRef = useRef<HTMLInputElement>(null);
  
  // ì‹¤ì‹œê°„ ê²€ìƒ‰ ë””ë°”ìš´ìŠ¤
  const debouncedSearch = useCallback(
    debounce((query: string) => {
      onChange(query);
    }, 300),
    [onChange]
  );
  
  const handleInputChange = useCallback((e: ChangeEvent<HTMLInputElement>) => {
    const query = e.target.value;
    debouncedSearch(query);
    setShowSuggestions(query.length > 0 && suggestions.length > 0);
  }, [debouncedSearch, suggestions.length]);
  
  const handleSuggestionClick = useCallback((suggestion: SearchSuggestion) => {
    onChange(suggestion.query);
    setShowSuggestions(false);
    inputRef.current?.focus();
  }, [onChange]);
  
  return (
    <div className="search-input-container">
      <div className={cn(
        "search-input-wrapper",
        isFocused && "focused"
      )}>
        <Icon name="search" className="search-icon" />
        <input
          ref={inputRef}
          type="text"
          value={value}
          onChange={handleInputChange}
          placeholder={placeholder}
          autoFocus={autoFocus}
          onFocus={() => setIsFocused(true)}
          onBlur={() => setTimeout(() => setIsFocused(false), 150)}
          className="search-input"
          role="searchbox"
          aria-label="í•™ìƒ ê²€ìƒ‰"
          aria-expanded={showSuggestions}
          aria-autocomplete="list"
        />
        {value && (
          <Button
            variant="ghost"
            size="sm"
            onClick={() => {
              onChange('');
              setShowSuggestions(false);
            }}
            className="clear-button"
            aria-label="ê²€ìƒ‰ì–´ ì§€ìš°ê¸°"
          >
            <Icon name="x" size={16} />
          </Button>
        )}
      </div>
      
      {/* ê²€ìƒ‰ ì œì•ˆ */}
      {showSuggestions && (
        <div className="search-suggestions">
          {suggestions.map((suggestion, index) => (
            <button
              key={index}
              className="search-suggestion-item"
              onClick={() => handleSuggestionClick(suggestion)}
              onMouseDown={(e) => e.preventDefault()}
            >
              <Icon name={suggestion.type} size={16} />
              <span className="suggestion-text">
                {suggestion.text}
              </span>
              <span className="suggestion-count">
                {suggestion.count}
              </span>
            </button>
          ))}
        </div>
      )}
    </div>
  );
});
```

### 3. StudentsGrid ì»´í¬ë„ŒíŠ¸

```tsx
interface StudentsGridProps {
  students: Student[];
  loading?: boolean;
  error?: string;
  onStudentEdit: (student: Student) => void;
  onStudentView: (student: Student) => void;
  gridSize?: 'compact' | 'normal' | 'detailed';
}

const StudentsGrid = memo<StudentsGridProps>(({
  students,
  loading = false,
  error,
  onStudentEdit,
  onStudentView,
  gridSize = 'normal'
}) => {
  // ê°€ìƒí™”ëœ ê·¸ë¦¬ë“œ (ëŒ€ëŸ‰ ë°ì´í„° ì²˜ë¦¬)
  const containerRef = useRef<HTMLDivElement>(null);
  const { virtualItems, totalSize } = useVirtualizer({
    count: students.length,
    getScrollElement: () => containerRef.current,
    estimateSize: () => gridSize === 'compact' ? 120 : 180,
    overscan: 5
  });
  
  // ê·¸ë¦¬ë“œ ë°˜ì‘í˜• ê³„ì‚°
  const gridColumns = useMemo(() => {
    switch (gridSize) {
      case 'compact': return 'grid-cols-2 md:grid-cols-4 lg:grid-cols-6';
      case 'normal': return 'grid-cols-1 md:grid-cols-2 lg:grid-cols-3';
      case 'detailed': return 'grid-cols-1 md:grid-cols-2';
      default: return 'grid-cols-1 md:grid-cols-2 lg:grid-cols-3';
    }
  }, [gridSize]);
  
  // ë¡œë”© ìƒíƒœ
  if (loading) {
    return (
      <div className={cn("students-grid", gridColumns)}>
        {Array.from({ length: 12 }).map((_, index) => (
          <StudentCardSkeleton key={index} compact={gridSize === 'compact'} />
        ))}
      </div>
    );
  }
  
  // ì—ëŸ¬ ìƒíƒœ
  if (error) {
    return (
      <ErrorState 
        title="í•™ìƒ ëª©ë¡ì„ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤"
        description={error}
        action={{ label: "ë‹¤ì‹œ ì‹œë„", onClick: () => window.location.reload() }}
      />
    );
  }
  
  // ë¹ˆ ìƒíƒœ (Ready State UI - ì™„ì „íˆ ë¹ˆ í™”ë©´ì€ ì—†ìŒ)
  if (students.length === 0) {
    return (
      <EmptyState 
        title="ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤"
        description="ë‹¤ë¥¸ ê²€ìƒ‰ì–´ë¥¼ ì‹œë„í•´ë³´ì‹œê±°ë‚˜ í•„í„°ë¥¼ ì¡°ì •í•´ë³´ì„¸ìš”"
        illustration="search-empty"
        actions={[
          { label: "ì „ì²´ ë³´ê¸°", onClick: () => {/* í•„í„° ì´ˆê¸°í™” */} },
          { label: "ìƒˆ í•™ìƒ ë“±ë¡", onClick: () => {/* ë“±ë¡ ëª¨ë‹¬ */} }
        ]}
      />
    );
  }
  
  return (
    <div 
      ref={containerRef}
      className="students-grid-container"
      style={{ height: '600px', overflow: 'auto' }}
    >
      <div
        style={{ height: totalSize }}
        className="relative"
      >
        {virtualItems.map((virtualRow) => {
          const student = students[virtualRow.index];
          return (
            <div
              key={student.id}
              className="absolute inset-x-0"
              style={{
                height: virtualRow.size,
                transform: `translateY(${virtualRow.start}px)`
              }}
            >
              <div className={cn("students-grid p-2", gridColumns)}>
                <StudentCard
                  student={student}
                  onEdit={onStudentEdit}
                  onViewDetails={onStudentView}
                  compact={gridSize === 'compact'}
                />
              </div>
            </div>
          );
        })}
      </div>
    </div>
  );
});
```

## ğŸ”„ ìƒíƒœ ê´€ë¦¬ ì•„í‚¤í…ì²˜

### 1. ìƒˆë¡œìš´ Store êµ¬ì¡°

```typescript
// stores/studentsV2Store.ts
interface StudentsV2State {
  // ê²€ìƒ‰ ìƒíƒœ
  search: {
    query: string;
    filters: SearchFilters;
    suggestions: SearchSuggestion[];
    savedSearches: SavedSearch[];
    isSearching: boolean;
  };
  
  // í‘œì‹œ ìƒíƒœ
  display: {
    view: 'grid' | 'list' | 'table';
    gridSize: 'compact' | 'normal' | 'detailed';
    sortBy: SortOption;
    selectedTab: StudentTab;
  };
  
  // ë°ì´í„° ìƒíƒœ
  data: {
    students: Student[];
    filteredStudents: Student[];
    selectedStudents: string[];
    loading: boolean;
    error: string | null;
    pagination: PaginationState;
  };
  
  // UI ìƒíƒœ
  ui: {
    selectedStudent: Student | null;
    showCreateModal: boolean;
    showBulkActions: boolean;
    sidebarCollapsed: boolean;
  };
  
  // ì•¡ì…˜ë“¤
  actions: {
    // ê²€ìƒ‰ ì•¡ì…˜
    setSearchQuery: (query: string) => void;
    setFilters: (filters: Partial<SearchFilters>) => void;
    clearSearch: () => void;
    saveSearch: (name: string) => void;
    loadSavedSearch: (search: SavedSearch) => void;
    
    // í‘œì‹œ ì•¡ì…˜
    setView: (view: DisplayView) => void;
    setGridSize: (size: GridSize) => void;
    setSortBy: (sort: SortOption) => void;
    setSelectedTab: (tab: StudentTab) => void;
    
    // ë°ì´í„° ì•¡ì…˜
    fetchStudents: () => Promise<void>;
    refreshStudents: () => Promise<void>;
    createStudent: (data: CreateStudentData) => Promise<void>;
    updateStudent: (id: string, data: UpdateStudentData) => Promise<void>;
    deleteStudent: (id: string) => Promise<void>;
    bulkUpdateStudents: (ids: string[], data: Partial<Student>) => Promise<void>;
    
    // UI ì•¡ì…˜
    selectStudent: (student: Student | null) => void;
    toggleCreateModal: (show?: boolean) => void;
    toggleSidebar: (collapsed?: boolean) => void;
  };
}

const useStudentsV2Store = create<StudentsV2State>()((set, get) => ({
  // ì´ˆê¸° ìƒíƒœ
  search: {
    query: '',
    filters: {},
    suggestions: [],
    savedSearches: [],
    isSearching: false,
  },
  
  display: {
    view: 'grid',
    gridSize: 'normal',
    sortBy: 'name',
    selectedTab: 'all',
  },
  
  data: {
    students: [],
    filteredStudents: [],
    selectedStudents: [],
    loading: false,
    error: null,
    pagination: { page: 1, limit: 50, total: 0 },
  },
  
  ui: {
    selectedStudent: null,
    showCreateModal: false,
    showBulkActions: false,
    sidebarCollapsed: false,
  },
  
  actions: {
    // ì‹¤ì‹œê°„ ê²€ìƒ‰ êµ¬í˜„
    setSearchQuery: (query: string) => 
      set(produce((draft) => {
        draft.search.query = query;
        draft.search.isSearching = true;
        
        // í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œ í•„í„°ë§ (ì¦‰ì‹œ ë°˜ì‘)
        draft.data.filteredStudents = draft.data.students.filter(student =>
          student.name.includes(query) ||
          student.student_number.includes(query) ||
          student.phone?.includes(query) ||
          student.parent_phone_1?.includes(query)
        );
        
        // ì„œë²„ ì‚¬ì´ë“œ ê²€ìƒ‰ì€ ë””ë°”ìš´ìŠ¤ë¡œ ì²˜ë¦¬
        debounce(() => {
          get().actions.fetchStudents();
          set(produce((draft) => {
            draft.search.isSearching = false;
          }));
        }, 500)();
      })),
      
    // í•„í„° ì ìš©
    setFilters: (filters: Partial<SearchFilters>) =>
      set(produce((draft) => {
        draft.search.filters = { ...draft.search.filters, ...filters };
        // í•„í„° ë³€ê²½ì‹œ ì¦‰ì‹œ ì„œë²„ì—ì„œ ìƒˆë¡œìš´ ë°ì´í„° ìš”ì²­
      })),
      
    // ë°ì´í„° ê°€ì ¸ì˜¤ê¸° (ì„œë²„ ì‚¬ì´ë“œ í•„í„°ë§)
    fetchStudents: async () => {
      const { search, data: { pagination } } = get();
      
      set(produce((draft) => {
        draft.data.loading = true;
        draft.data.error = null;
      }));
      
      try {
        const response = await apiCall<StudentsResponse>('/api/students', {
          params: {
            q: search.query,
            ...search.filters,
            page: pagination.page,
            limit: pagination.limit,
          },
        });
        
        set(produce((draft) => {
          draft.data.students = response.students;
          draft.data.filteredStudents = response.students;
          draft.data.pagination.total = response.total;
          draft.data.loading = false;
        }));
      } catch (error) {
        set(produce((draft) => {
          draft.data.error = error.message;
          draft.data.loading = false;
        }));
      }
    },
    
    // ... ê¸°íƒ€ ì•¡ì…˜ë“¤
  },
}));
```

### 2. ê²€ìƒ‰ ìµœì í™” ì „ëµ

```typescript
// hooks/useSearchOptimization.ts
export const useSearchOptimization = () => {
  const { search, actions } = useStudentsV2Store();
  
  // ì‹¤ì‹œê°„ ê²€ìƒ‰ (í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œ - ì¦‰ì‹œ ë°˜ì‘)
  const handleInstantSearch = useCallback(
    debounce((query: string) => {
      actions.setSearchQuery(query);
    }, 150), // ë§¤ìš° ë¹ ë¥¸ ë°˜ì‘
    []
  );
  
  // ì„œë²„ ê²€ìƒ‰ (ì •í™•í•œ ê²°ê³¼)
  const handleServerSearch = useCallback(
    debounce((query: string) => {
      if (query.length > 2) {
        actions.fetchStudents();
      }
    }, 500), // ì„œë²„ ë¶€í•˜ ê³ ë ¤
    []
  );
  
  // ê²€ìƒ‰ ì œì•ˆ ìƒì„±
  const generateSuggestions = useCallback(
    debounce(async (query: string) => {
      if (query.length > 1) {
        const suggestions = await apiCall<SearchSuggestion[]>('/api/search/suggestions', {
          params: { q: query, type: 'students' }
        });
        // suggestionsë¥¼ ìŠ¤í† ì–´ì— ì €ì¥
      }
    }, 300),
    []
  );
  
  return {
    handleInstantSearch,
    handleServerSearch,
    generateSuggestions,
    isSearching: search.isSearching,
  };
};
```

## ğŸ“± ë°˜ì‘í˜• ë””ìì¸ ì „ëµ

### 1. ë¸Œë ˆì´í¬í¬ì¸íŠ¸ ì •ì˜

```typescript
// design-system/breakpoints.ts
export const breakpoints = {
  mobile: '0px',      // 360px - 768px
  tablet: '768px',    // 768px - 1024px  
  desktop: '1024px',  // 1024px - 1440px
  wide: '1440px',     // 1440px+
} as const;

// Responsive Grid Configurations
export const gridConfigs = {
  students: {
    mobile: 'grid-cols-1',
    tablet: 'grid-cols-2', 
    desktop: 'grid-cols-3',
    wide: 'grid-cols-4',
  },
  compact: {
    mobile: 'grid-cols-2',
    tablet: 'grid-cols-4',
    desktop: 'grid-cols-6', 
    wide: 'grid-cols-8',
  },
  detailed: {
    mobile: 'grid-cols-1',
    tablet: 'grid-cols-1',
    desktop: 'grid-cols-2',
    wide: 'grid-cols-2',
  }
} as const;
```

### 2. ì‚¬ì´ë“œë°” ë°˜ì‘í˜• ë™ì‘

```tsx
// components/SearchSidebar.tsx
const SearchSidebar = () => {
  const [isMobile, setIsMobile] = useState(false);
  const { ui, actions } = useStudentsV2Store();
  
  useEffect(() => {
    const checkMobile = () => {
      setIsMobile(window.innerWidth < 768);
      if (window.innerWidth < 768) {
        // ëª¨ë°”ì¼ì—ì„œëŠ” ì‚¬ì´ë“œë°”ë¥¼ ê¸°ë³¸ìœ¼ë¡œ ìˆ¨ê¹€
        actions.toggleSidebar(true);
      }
    };
    
    checkMobile();
    window.addEventListener('resize', checkMobile);
    return () => window.removeEventListener('resize', checkMobile);
  }, [actions]);
  
  // ëª¨ë°”ì¼ì—ì„œëŠ” ì˜¤ë²„ë ˆì´ ëª¨ë‹¬ë¡œ í‘œì‹œ
  if (isMobile) {
    return (
      <Dialog open={!ui.sidebarCollapsed} onOpenChange={actions.toggleSidebar}>
        <DialogContent className="max-w-sm p-0">
          <MobileSidebarContent />
        </DialogContent>
      </Dialog>
    );
  }
  
  // ë°ìŠ¤í¬íƒ‘ì—ì„œëŠ” ê³ ì • ì‚¬ì´ë“œë°”
  return (
    <aside className={cn(
      "search-sidebar",
      ui.sidebarCollapsed && "collapsed"
    )}>
      <DesktopSidebarContent />
    </aside>
  );
};
```

## ğŸš€ ì„±ëŠ¥ ìµœì í™” ì „ëµ

### 1. ë Œë”ë§ ìµœì í™”

```typescript
// ë©”ëª¨ì´ì œì´ì…˜ ì „ëµ
const StudentCard = memo<StudentCardProps>(({ student, ...props }) => {
  // ì¹´ë“œ ë°ì´í„° ë©”ëª¨ì´ì œì´ì…˜
  const cardData = useMemo(() => ({
    displayName: student.name,
    avatar: generateAvatar(student.name),
    status: getStatusColor(student.status),
    stats: calculateStudentStats(student),
  }), [student.name, student.status, student.updated_at]);
  
  // ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ë©”ëª¨ì´ì œì´ì…˜
  const handleEdit = useCallback(() => {
    props.onEdit(student);
  }, [student.id, props.onEdit]);
  
  return <Card data={cardData} onEdit={handleEdit} />;
});

// ê°€ìƒí™”ëœ ê·¸ë¦¬ë“œ
const VirtualizedGrid = ({ students, ...props }) => {
  const parentRef = useRef();
  
  const rowVirtualizer = useVirtualizer({
    count: Math.ceil(students.length / ITEMS_PER_ROW),
    getScrollElement: () => parentRef.current,
    estimateSize: () => CARD_HEIGHT + CARD_MARGIN,
    overscan: 2,
  });
  
  return (
    <div ref={parentRef} className="grid-container">
      {rowVirtualizer.getVirtualItems().map((virtualRow) => (
        <div key={virtualRow.index}>
          {students
            .slice(
              virtualRow.index * ITEMS_PER_ROW,
              (virtualRow.index + 1) * ITEMS_PER_ROW
            )
            .map(student => (
              <StudentCard key={student.id} student={student} {...props} />
            ))}
        </div>
      ))}
    </div>
  );
};
```

### 2. ë°ì´í„° ë¡œë”© ìµœì í™”

```typescript
// Progressive Loading Strategy
const useProgressiveLoading = () => {
  const [loadingStage, setLoadingStage] = useState<'skeleton' | 'basic' | 'complete'>('skeleton');
  
  useEffect(() => {
    // 1ë‹¨ê³„: ìŠ¤ì¼ˆë ˆí†¤ í‘œì‹œ (ì¦‰ì‹œ)
    setLoadingStage('skeleton');
    
    // 2ë‹¨ê³„: ê¸°ë³¸ ë°ì´í„° ë¡œë“œ (ë¹ ë¥¸ API)
    setTimeout(() => {
      setLoadingStage('basic');
    }, 100);
    
    // 3ë‹¨ê³„: ì™„ì „í•œ ë°ì´í„° ë¡œë“œ (ìƒì„¸ ì •ë³´)
    setTimeout(() => {
      setLoadingStage('complete');
    }, 500);
  }, []);
  
  return loadingStage;
};

// Predictive Preloading
const usePredictivePreloading = () => {
  const { search } = useStudentsV2Store();
  
  useEffect(() => {
    // ì‚¬ìš©ìê°€ íƒ€ì´í•‘ ì¤‘ì¼ ë•Œ ë‹¤ìŒì— ì˜¬ ê°€ëŠ¥ì„±ì´ ë†’ì€ ë°ì´í„°ë¥¼ ë¯¸ë¦¬ ë¡œë“œ
    if (search.query.length > 2) {
      const predictedQueries = generatePredictedQueries(search.query);
      predictedQueries.forEach(query => {
        preloadSearchResults(query);
      });
    }
  }, [search.query]);
};
```

### 3. ë©”ëª¨ë¦¬ ê´€ë¦¬

```typescript
// Smart Cleanup Strategy
const useSmartCleanup = () => {
  const { data } = useStudentsV2Store();
  
  useEffect(() => {
    // í™”ë©´ì—ì„œ ë²—ì–´ë‚œ í•™ìƒ ë°ì´í„°ì˜ ìƒì„¸ ì •ë³´ ì •ë¦¬
    const cleanup = () => {
      if (data.students.length > 1000) {
        // ëŒ€ëŸ‰ ë°ì´í„°ì‹œ ë©”ëª¨ë¦¬ ì •ë¦¬
        requestIdleCallback(() => {
          // ê°€ë¹„ì§€ ì»¬ë ‰ì…˜ ìµœì í™”
          window.gc?.();
        });
      }
    };
    
    const timeoutId = setTimeout(cleanup, 30000);
    return () => clearTimeout(timeoutId);
  }, [data.students.length]);
};
```

## ğŸ“Š ì‚¬ìš©ì„± ê°œì„  ì „ëµ

### 1. ì ‘ê·¼ì„± (A11y) ê°•í™”

```tsx
// í‚¤ë³´ë“œ ë„¤ë¹„ê²Œì´ì…˜
const useKeyboardNavigation = () => {
  const { data, actions } = useStudentsV2Store();
  
  useEffect(() => {
    const handleKeyDown = (e: KeyboardEvent) => {
      switch (e.key) {
        case '/':
          if (e.ctrlKey || e.metaKey) {
            e.preventDefault();
            // ê²€ìƒ‰ì°½ì— í¬ì»¤ìŠ¤
            document.querySelector<HTMLInputElement>('[role="searchbox"]')?.focus();
          }
          break;
          
        case 'ArrowUp':
        case 'ArrowDown':
          if (document.activeElement?.closest('.student-card')) {
            e.preventDefault();
            navigateCards(e.key === 'ArrowUp' ? 'up' : 'down');
          }
          break;
          
        case 'Enter':
          if (document.activeElement?.closest('.student-card')) {
            const studentId = document.activeElement.getAttribute('data-student-id');
            if (studentId) {
              const student = data.students.find(s => s.id === studentId);
              if (student) actions.selectStudent(student);
            }
          }
          break;
      }
    };
    
    document.addEventListener('keydown', handleKeyDown);
    return () => document.removeEventListener('keydown', handleKeyDown);
  }, [data.students, actions]);
};

// ìŠ¤í¬ë¦° ë¦¬ë” ì§€ì›
const StudentCard = ({ student, ...props }) => {
  const ariaLabel = `${student.name}, í•™ë²ˆ ${student.student_number}, ${
    student.status === 'active' ? 'í™œì„±' : student.status === 'inactive' ? 'ë¹„í™œì„±' : 'ì¡¸ì—…'
  } ìƒíƒœ${student.phone ? `, ì—°ë½ì²˜ ${student.phone}` : ''}`;
  
  return (
    <Card
      role="button"
      tabIndex={0}
      aria-label={ariaLabel}
      aria-describedby={`student-${student.id}-details`}
      onClick={() => props.onViewDetails(student)}
      onKeyDown={(e) => {
        if (e.key === 'Enter' || e.key === ' ') {
          e.preventDefault();
          props.onViewDetails(student);
        }
      }}
    >
      {/* ì¹´ë“œ ë‚´ìš© */}
      <div id={`student-${student.id}-details`} className="sr-only">
        í•™ìƒ ìƒì„¸ ì •ë³´: {student.name}ë‹˜ì˜ í•™ë²ˆì€ {student.student_number}ì´ë©°, 
        í˜„ì¬ ìƒíƒœëŠ” {student.status}ì…ë‹ˆë‹¤.
        {student.grade_level && `í•™ë…„: ${student.grade_level}`}
        {student.school_name && `í•™êµ: ${student.school_name}`}
      </div>
    </Card>
  );
};
```

### 2. ì‚¬ìš©ì í”¼ë“œë°± ì‹œìŠ¤í…œ

```tsx
// ì‹¤ì‹œê°„ í”¼ë“œë°±
const useFeedbackSystem = () => {
  const [feedback, setFeedback] = useState<{
    type: 'success' | 'error' | 'info' | 'warning';
    message: string;
    visible: boolean;
  }>({
    type: 'info',
    message: '',
    visible: false
  });
  
  const showFeedback = useCallback((type: FeedbackType, message: string) => {
    setFeedback({ type, message, visible: true });
    
    // ìë™ ìˆ¨ê¹€ (ì„±ê³µ/ì •ë³´ ë©”ì‹œì§€)
    if (type === 'success' || type === 'info') {
      setTimeout(() => {
        setFeedback(prev => ({ ...prev, visible: false }));
      }, 3000);
    }
  }, []);
  
  return { feedback, showFeedback };
};

// ë¡œë”© ìƒíƒœ í‘œì‹œ
const LoadingStates = {
  searching: (
    <div className="flex items-center gap-2 text-sm text-gray-600">
      <Spinner size="sm" />
      ê²€ìƒ‰ ì¤‘...
    </div>
  ),
  
  loading: (
    <div className="flex items-center gap-2 text-sm text-gray-600">
      <Spinner size="sm" />
      í•™ìƒ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...
    </div>
  ),
  
  updating: (
    <div className="flex items-center gap-2 text-sm text-blue-600">
      <Spinner size="sm" />
      ì •ë³´ ì—…ë°ì´íŠ¸ ì¤‘...
    </div>
  ),
};
```

## ğŸ§ª í…ŒìŠ¤íŠ¸ ì „ëµ

### 1. ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸

```typescript
// StudentCard.test.tsx
describe('StudentCard', () => {
  const mockStudent: Student = {
    id: '1',
    name: 'í™ê¸¸ë™',
    student_number: 'ST001',
    status: 'active',
    phone: '010-1234-5678',
    grade_level: 'ê³ 1',
    school_name: 'í…ŒìŠ¤íŠ¸ê³ ë“±í•™êµ'
  };
  
  it('should render student information correctly', () => {
    render(
      <StudentCard 
        student={mockStudent} 
        onEdit={jest.fn()} 
        onViewDetails={jest.fn()} 
      />
    );
    
    expect(screen.getByText('í™ê¸¸ë™')).toBeInTheDocument();
    expect(screen.getByText('ST001')).toBeInTheDocument();
    expect(screen.getByText('010-1234-5678')).toBeInTheDocument();
  });
  
  it('should handle keyboard navigation', async () => {
    const mockOnViewDetails = jest.fn();
    
    render(
      <StudentCard 
        student={mockStudent} 
        onEdit={jest.fn()} 
        onViewDetails={mockOnViewDetails} 
      />
    );
    
    const card = screen.getByRole('button');
    card.focus();
    
    await user.keyboard('{Enter}');
    expect(mockOnViewDetails).toHaveBeenCalledWith(mockStudent);
  });
  
  it('should be accessible to screen readers', () => {
    render(
      <StudentCard 
        student={mockStudent} 
        onEdit={jest.fn()} 
        onViewDetails={jest.fn()} 
      />
    );
    
    const card = screen.getByRole('button');
    expect(card).toHaveAttribute('aria-label');
    expect(card.getAttribute('aria-label')).toContain('í™ê¸¸ë™');
    expect(card.getAttribute('aria-label')).toContain('ST001');
  });
});
```

### 2. E2E í…ŒìŠ¤íŠ¸

```typescript
// e2e/student-search.spec.ts
test('ì‚¬ìš©ìê°€ í•™ìƒì„ ê²€ìƒ‰í•˜ê³  ìƒì„¸ì •ë³´ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤', async ({ page }) => {
  await page.goto('/main/students');
  
  // ê²€ìƒ‰ì°½ì— í¬ì»¤ìŠ¤
  await page.click('[role="searchbox"]');
  
  // ê²€ìƒ‰ì–´ ì…ë ¥
  await page.fill('[role="searchbox"]', 'í™ê¸¸ë™');
  
  // ì‹¤ì‹œê°„ ê²€ìƒ‰ ê²°ê³¼ í™•ì¸
  await expect(page.locator('.student-card')).toContainText('í™ê¸¸ë™');
  
  // í•™ìƒ ì¹´ë“œ í´ë¦­
  await page.click('.student-card:has-text("í™ê¸¸ë™")');
  
  // ìƒì„¸ ì •ë³´ ëª¨ë‹¬/í˜ì´ì§€ í™•ì¸
  await expect(page.locator('[data-testid="student-details"]')).toBeVisible();
  await expect(page.locator('[data-testid="student-name"]')).toContainText('í™ê¸¸ë™');
});

test('ì‚¬ìš©ìê°€ í•„í„°ë¥¼ ì‚¬ìš©í•˜ì—¬ í•™ìƒì„ ì°¾ì„ ìˆ˜ ìˆë‹¤', async ({ page }) => {
  await page.goto('/main/students');
  
  // ê³ ê¸‰ í•„í„° ì—´ê¸°
  await page.click('[data-testid="advanced-filters-toggle"]');
  
  // ìƒíƒœ í•„í„° ì ìš©
  await page.selectOption('[data-testid="status-filter"]', 'active');
  
  // í•™ë…„ í•„í„° ì ìš©
  await page.selectOption('[data-testid="grade-filter"]', 'ê³ 1');
  
  // í•„í„° ì ìš© ë²„íŠ¼
  await page.click('[data-testid="apply-filters"]');
  
  // ê²°ê³¼ í™•ì¸
  await expect(page.locator('.student-card')).toHaveCount(await page.locator('.student-card').count());
  
  // ëª¨ë“  ì¹´ë“œê°€ 'ê³ 1'ì„ í¬í•¨í•˜ëŠ”ì§€ í™•ì¸
  const cards = await page.locator('.student-card').all();
  for (const card of cards) {
    await expect(card).toContainText('ê³ 1');
  }
});
```

## ğŸ“ˆ ì„±ê³µ ì§€í‘œ ë° KPI

### 1. ê¸°ìˆ ì  ì„±ëŠ¥ ì§€í‘œ

```typescript
// Performance Monitoring
const performanceMetrics = {
  // Core Web Vitals
  LCP: { target: '< 2.5s', critical: '> 4s' },
  FID: { target: '< 100ms', critical: '> 300ms' },
  CLS: { target: '< 0.1', critical: '> 0.25' },
  
  // Custom Metrics
  searchResponseTime: { target: '< 500ms', critical: '> 1s' },
  cardRenderTime: { target: '< 100ms', critical: '> 300ms' },
  infiniteScrollPerformance: { target: '60fps', critical: '< 30fps' },
  
  // Memory Usage
  memoryUsage: { target: '< 50MB', critical: '> 100MB' },
  memoryLeakRate: { target: '< 1MB/min', critical: '> 5MB/min' },
};

// Performance Tracking Hook
const usePerformanceTracking = () => {
  useEffect(() => {
    // Core Web Vitals ì¸¡ì •
    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {
      getCLS(console.log);
      getFID(console.log);
      getFCP(console.log);
      getLCP(console.log);
      getTTFB(console.log);
    });
    
    // Custom Metrics ì¸¡ì •
    const observer = new PerformanceObserver((list) => {
      list.getEntries().forEach((entry) => {
        if (entry.name === 'student-search') {
          console.log('Search Performance:', entry.duration);
        }
      });
    });
    
    observer.observe({ entryTypes: ['measure'] });
    
    return () => observer.disconnect();
  }, []);
};
```

### 2. ì‚¬ìš©ì ê²½í—˜ ì§€í‘œ

```typescript
// User Experience Metrics
const uxMetrics = {
  // Task Completion
  searchSuccess: { target: '> 95%', current: 0 },
  taskCompletionTime: { target: '< 30s', current: 0 },
  errorRate: { target: '< 1%', current: 0 },
  
  // User Satisfaction
  satisfactionScore: { target: '> 4.5/5', current: 0 },
  npsScore: { target: '> 50', current: 0 },
  
  // Engagement
  dailyActiveUsers: { target: '+20%', current: 0 },
  sessionDuration: { target: '+15%', current: 0 },
  featureAdoption: { target: '> 80%', current: 0 },
};

// UX Tracking Implementation
const useUXTracking = () => {
  const [sessionStart] = useState(Date.now());
  
  useEffect(() => {
    // ì„¸ì…˜ ì‹œê°„ ì¶”ì 
    const handleBeforeUnload = () => {
      const sessionDuration = Date.now() - sessionStart;
      analytics.track('session_duration', { duration: sessionDuration });
    };
    
    window.addEventListener('beforeunload', handleBeforeUnload);
    return () => window.removeEventListener('beforeunload', handleBeforeUnload);
  }, [sessionStart]);
  
  const trackSearch = useCallback((query: string, resultsCount: number) => {
    analytics.track('student_search', {
      query: query.length, // ê¸¸ì´ë§Œ ì¶”ì  (ê°œì¸ì •ë³´ ë³´í˜¸)
      results_count: resultsCount,
      timestamp: Date.now()
    });
  }, []);
  
  const trackTaskCompletion = useCallback((task: string, duration: number) => {
    analytics.track('task_completion', {
      task,
      duration,
      success: true
    });
  }, []);
  
  return { trackSearch, trackTaskCompletion };
};
```

## ğŸš§ ë§ˆì´ê·¸ë ˆì´ì…˜ ì „ëµ

### Phase 1: Foundation (Week 1-2)

**ëª©í‘œ**: ìƒˆë¡œìš´ ì»´í¬ë„ŒíŠ¸ ì•„í‚¤í…ì²˜ êµ¬ì¶•
```typescript
// 1. ìƒˆë¡œìš´ ìŠ¤í† ì–´ ìƒì„±
âœ… studentsV2Store.ts êµ¬í˜„
âœ… ê¸°ì¡´ studentsStore.tsì™€ ë³‘ë ¬ ìš´ì˜

// 2. í•µì‹¬ ì»´í¬ë„ŒíŠ¸ ê°œë°œ
âœ… SearchSidebar ì»´í¬ë„ŒíŠ¸
âœ… StudentCard ì»´í¬ë„ŒíŠ¸ (ì¬ì„¤ê³„)
âœ… StudentsGrid ì»´í¬ë„ŒíŠ¸

// 3. Feature Flag ì„¤ì •
const useV2Interface = useFeatureFlag('students-v2-ui');
```

### Phase 2: Integration (Week 3-4)

**ëª©í‘œ**: ê¸°ì¡´ ì‹œìŠ¤í…œê³¼ í†µí•©
```typescript
// 1. API ì¸í„°í˜ì´ìŠ¤ í™•ì¥
// ê¸°ì¡´ API ìœ ì§€í•˜ë©´ì„œ v2 ìµœì í™” íŒŒë¼ë¯¸í„° ì¶”ê°€
export async function GET(request: NextRequest) {
  const version = searchParams.get('ui_version') || 'v1';
  
  if (version === 'v2') {
    // v2 ìµœì í™”ëœ ì‘ë‹µ (ê²€ìƒ‰ íŒíŠ¸, ë¯¸ë¦¬ë³´ê¸° ë“±)
    return createV2Response(data);
  }
  
  // ê¸°ì¡´ v1 ì‘ë‹µ ìœ ì§€
  return createV1Response(data);
}

// 2. ì ì§„ì  ì „í™˜
const StudentsPageV2 = () => {
  const useV2 = useFeatureFlag('students-v2-ui');
  
  return useV2 ? <StudentsV2Interface /> : <StudentsV1Interface />;
};
```

### Phase 3: Optimization (Week 5-6)

**ëª©í‘œ**: ì„±ëŠ¥ ìµœì í™” ë° í”¼ë“œë°± ë°˜ì˜
```typescript
// 1. ì„±ëŠ¥ ìµœì í™”
- ê°€ìƒí™”ëœ ë¬´í•œ ìŠ¤í¬ë¡¤ êµ¬í˜„
- ì„œë²„ ì‚¬ì´ë“œ ê²€ìƒ‰ ìµœì í™”
- ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ìµœì†Œí™”

// 2. ì‚¬ìš©ì í”¼ë“œë°± ë°˜ì˜
- A/B í…ŒìŠ¤íŠ¸ ê²°ê³¼ ë¶„ì„
- ì‚¬ìš©ì„± ê°œì„ ì‚¬í•­ ì ìš©
- ì ‘ê·¼ì„± ê°•í™”

// 3. ëª¨ë‹ˆí„°ë§ ê°•í™”
- ì„±ëŠ¥ ë©”íŠ¸ë¦­ ì‹¤ì‹œê°„ ì¶”ì 
- ì˜¤ë¥˜ìœ¨ ëª¨ë‹ˆí„°ë§
- ì‚¬ìš©ì ë§Œì¡±ë„ ì¸¡ì •
```

### ë¡¤ë°± ê³„íš

```typescript
// ì¦‰ì‹œ ë¡¤ë°± ê°€ëŠ¥í•œ Feature Flag ì‹œìŠ¤í…œ
const FeatureFlags = {
  STUDENTS_V2_UI: 'students-v2-ui',
  V2_SEARCH_SIDEBAR: 'v2-search-sidebar', 
  V2_CARD_LAYOUT: 'v2-card-layout',
} as const;

// ì„¸ë¶„í™”ëœ ë¡¤ë°± ì œì–´
const useGradualRollback = () => {
  const [rollbackStage, setRollbackStage] = useState<'none' | 'partial' | 'full'>('none');
  
  const initiateRollback = (stage: RollbackStage, reason: string) => {
    console.warn(`Initiating ${stage} rollback: ${reason}`);
    
    switch (stage) {
      case 'partial':
        // ì¼ë¶€ ê¸°ëŠ¥ë§Œ v1ìœ¼ë¡œ ë˜ëŒë¦¬ê¸°
        disableFeatureFlag(FeatureFlags.V2_SEARCH_SIDEBAR);
        break;
        
      case 'full':
        // ì „ì²´ ì¸í„°í˜ì´ìŠ¤ v1ìœ¼ë¡œ ë˜ëŒë¦¬ê¸°
        disableFeatureFlag(FeatureFlags.STUDENTS_V2_UI);
        break;
    }
    
    setRollbackStage(stage);
  };
  
  return { rollbackStage, initiateRollback };
};
```

## ğŸ“‹ ê²°ë¡ 

EduCanvas v2 ì•„í‚¤í…ì²˜ëŠ” í˜„ì¬ ì‹œìŠ¤í…œì˜ ê²¬ê³ í•œ ê¸°ìˆ ì  ê¸°ë°˜ ìœ„ì— ì‚¬ìš©ì ì¤‘ì‹¬ì˜ í˜ì‹ ì ì¸ ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬ì¶•í•˜ëŠ” ê²ƒì„ ëª©í‘œë¡œ í•©ë‹ˆë‹¤.

### í•µì‹¬ í˜ì‹  í¬ì¸íŠ¸

1. **ê²€ìƒ‰ ì¤‘ì‹¬ ì›Œí¬í”Œë¡œìš°**: ì‚¬ì´ë“œë°” ê²€ìƒ‰ìœ¼ë¡œ í•­ìƒ ì ‘ê·¼ ê°€ëŠ¥í•œ ì¸í„°í˜ì´ìŠ¤
2. **ì •ë³´ ë°€ë„ ê·¹ëŒ€í™”**: ì¹´ë“œ ê¸°ë°˜ ë ˆì´ì•„ì›ƒìœ¼ë¡œ í•œ í™”ë©´ì—ì„œ ë” ë§ì€ ì •ë³´ í‘œì‹œ
3. **Ready State UI**: ë¹ˆ í™”ë©´ ì—†ì´ í•­ìƒ ìœ ì˜ë¯¸í•œ ì½˜í…ì¸  ì œê³µ
4. **ì„±ëŠ¥ ìµœì í™”**: ê°€ìƒí™”ì™€ ë©”ëª¨ì´ì œì´ì…˜ìœ¼ë¡œ ëŒ€ëŸ‰ ë°ì´í„° ì²˜ë¦¬ ìµœì í™”

### ì˜ˆìƒ íš¨ê³¼

- **ì‘ì—… íš¨ìœ¨ì„± 80% í–¥ìƒ**: ê²€ìƒ‰ ì‹œê°„ 5-10ì´ˆ â†’ 1-2ì´ˆ
- **í™”ë©´ ì •ë³´ëŸ‰ 100% ì¦ê°€**: 10-15ê°œ â†’ 20-30ê°œ í•™ìƒ ì •ë³´ ë™ì‹œ í‘œì‹œ
- **ì‚¬ìš©ì ë§Œì¡±ë„ 40% í–¥ìƒ**: 3.2/5.0 â†’ 4.5/5.0 ëª©í‘œ
- **ìƒˆë¡œìš´ ì‹œì¥ í™•ì¥**: ëª¨ë°”ì¼/íƒœë¸”ë¦¿ ì‚¬ìš©ì„± í™•ë³´

### ë¦¬ìŠ¤í¬ ê´€ë¦¬

- **ì ì§„ì  ë§ˆì´ê·¸ë ˆì´ì…˜**: Feature Flag ê¸°ë°˜ ì•ˆì „í•œ ì „í™˜
- **ì¦‰ì‹œ ë¡¤ë°± ê°€ëŠ¥**: ì„¸ë¶„í™”ëœ ë¡¤ë°± ê³„íšìœ¼ë¡œ ìœ„í—˜ ìµœì†Œí™”
- **ê¸°ì¡´ ì‹œìŠ¤í…œ ìœ ì§€**: API í˜¸í™˜ì„± ë³´ì¥ìœ¼ë¡œ ë°ì´í„° ì•ˆì •ì„± í™•ë³´

**ë‹¤ìŒ ë‹¨ê³„**: ë§ˆì´ê·¸ë ˆì´ì…˜ ì „ëµ ë° ìƒì„¸ êµ¬í˜„ ê³„íš ìˆ˜ë¦½